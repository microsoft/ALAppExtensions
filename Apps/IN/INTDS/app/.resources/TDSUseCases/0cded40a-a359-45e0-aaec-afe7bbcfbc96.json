[
  {
    "CaseID": "{0CDED40A-A359-45E0-AAEC-AFE7BBCFBC96}",
    "Description": "Calculation of Tax Deduction at Source through General Journal for Vendor where PAN No. is specified along with Concessional Codes.\n",
    "Version": 3,
    "MinorVersion": 0,
    "TaxType": "TDS",
    "ChangedBy": "Microsoft",
    "Code": "",
    "TaxEntity": "Gen. Journal Line",
    "ParentUseCase": "Calculation of Tax Deduction at Source through General Journal for Vendors.\n",
    "ParentCaseId": "{D0CED206-BE26-47A3-A370-D064D8AFCE44}",
    "PresentationOrder": 943,
    "Indent": 1,
    "PostingTableName": "TDS Posting Setup",
    "PostingTableFilters": [
      {
        "FiterFieldName": "TDS Section",
        "FilterType": "Equals",
        "FilterValue": {
          "Type": "Lookup",
          "Lookup": {
            "SourceType": "Current Record",
            "TableName": "Gen. Journal Line",
            "FieldName": "TDS Section Code"
          }
        }
      },
      {
        "FiterFieldName": "Effective Date",
        "FilterType": "Is Less Than Or Equals To",
        "FilterValue": {
          "Type": "Lookup",
          "Lookup": {
            "SourceType": "Current Record",
            "TableName": "Gen. Journal Line",
            "FieldName": "Posting Date"
          }
        }
      }
    ],
    "Attributes": [
      {
        "Name": "PAN No.",
        "When": [
          {
            "ValueType": "Relation",
            "Sequence": 0,
            "Relation": {
              "IsCurrentRecord": false,
              "TableName": "Vendor",
              "TableFilters": [
                {
                  "FiterFieldName": "No.",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Account No."
                    }
                  }
                }
              ]
            }
          }
        ]
      },
      {
        "Name": "Concessional Code",
        "When": [
          {
            "ValueType": "Relation",
            "Sequence": 0,
            "Relation": {
              "IsCurrentRecord": false,
              "TableName": "TDS Concessional Code",
              "TableFilters": [
                {
                  "FiterFieldName": "Vendor No.",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Account No."
                    }
                  }
                },
                {
                  "FiterFieldName": "Section",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "TDS Section Code"
                    }
                  }
                }
              ]
            }
          }
        ]
      }
    ],
    "RateColumns": [
      {
        "Name": "Effective Date",
        "When": [
          {
            "ValueType": "Lookup",
            "Sequence": 0,
            "Lookup": {
              "SourceType": "Current Record",
              "TableName": "Gen. Journal Line",
              "FieldName": "Posting Date"
            }
          }
        ]
      }
    ],
    "ComputationVariables": [
      {
        "Name": "TotalAmount",
        "Datatype": "Number"
      },
      {
        "Name": "TDSTaxableAmount",
        "Datatype": "Number"
      },
      {
        "Name": "SurchargeBaseAmt",
        "Datatype": "Number"
      },
      {
        "Name": "TDSAmount",
        "Datatype": "Number"
      },
      {
        "Name": "PrevInvAmountLCY",
        "Datatype": "Number"
      },
      {
        "Name": "PrevInvAmount",
        "Datatype": "Number"
      },
      {
        "Name": "InvoiceAmount",
        "Datatype": "Number"
      },
      {
        "Name": "PaymentAmount",
        "Datatype": "Number"
      },
      {
        "Name": "PreviousContractAmount",
        "Datatype": "Number"
      },
      {
        "Name": "TotalInvAmountLCY",
        "Datatype": "Number"
      },
      {
        "Name": "TotalInvAmount",
        "Datatype": "Number"
      },
      {
        "Name": "TotalInvAmtWOContractLCY",
        "Datatype": "Number"
      },
      {
        "Name": "TotalInvAmtWOContract",
        "Datatype": "Number"
      },
      {
        "Name": "PreSurchargeBaseAmt",
        "Datatype": "Number"
      },
      {
        "Name": "TotalSurchargeBaseAmt",
        "Datatype": "Number"
      },
      {
        "Name": "PositiveAmount",
        "Datatype": "Number"
      },
      {
        "Name": "PositiveAmountLCY",
        "Datatype": "Number"
      },
      {
        "Name": "TDSBaseAmt",
        "Datatype": "Number"
      },
      {
        "Name": "FiscalYearStartDate",
        "Datatype": "Date"
      },
      {
        "Name": "FiscalYearEndDate",
        "Datatype": "Date"
      },
      {
        "Name": "AccountingDateFilter",
        "Datatype": "String"
      },
      {
        "Name": "TotalCurrAmountLCY",
        "Datatype": "Number"
      },
      {
        "Name": "PositiveTotalCurrAmountLCY",
        "Datatype": "Number"
      },
      {
        "Name": "AppliedAmount",
        "Datatype": "Number"
      },
      {
        "Name": "TotalTaxableInvAmount",
        "Datatype": "Number"
      },
      {
        "Name": "TotalTaxableInvAmtWOContract",
        "Datatype": "Number"
      },
      {
        "Name": "BatchAmountLCY",
        "Datatype": "Number"
      },
      {
        "Name": "BatchPaymentAmountLCY",
        "Datatype": "Number"
      },
      {
        "Name": "BatchInvoiceAmountLCY",
        "Datatype": "Number"
      },
      {
        "Name": "PositiveAmtExclGST",
        "Datatype": "Number"
      },
      {
        "Name": "TaxableAmountExclApplied",
        "Datatype": "Number"
      },
      {
        "Name": "RecID",
        "Datatype": "String"
      },
      {
        "Name": "GSTAmount",
        "Datatype": "Number"
      },
      {
        "Name": "AdjustedInvAmount",
        "Datatype": "Number"
      }
    ],
    "ComputationScript": [
      {
        "ActivityType": "COMMENT",
        "Activity": {
          "Comment": "Converted Current Line's amount and amount (LCY) to positive amount"
        }
      },
      {
        "ActivityType": "IFSTATEMENT",
        "Activity": {
          "Condition": {
            "Body": [
              {
                "Operator": " ",
                "ConditionType": "Is Less Than",
                "LHS": {
                  "Lookup": {
                    "SourceType": "Current Record",
                    "TableName": "Gen. Journal Line",
                    "FieldName": "Amount"
                  }
                },
                "RHS": {
                  "Type": "Constant",
                  "Value": ""
                }
              }
            ]
          },
          "Body": [
            {
              "ActivityType": "NUMERICEXPRESSION",
              "Activity": {
                "VariableName": "PositiveAmount",
                "Expression": "0-Amount",
                "Tokens": [
                  {
                    "TokenName": "Amount",
                    "TokenValue": {
                      "Type": "Lookup",
                      "Lookup": {
                        "SourceType": "Current Record",
                        "TableName": "Gen. Journal Line",
                        "FieldName": "Amount"
                      }
                    }
                  }
                ]
              }
            },
            {
              "ActivityType": "NUMERICEXPRESSION",
              "Activity": {
                "VariableName": "PositiveAmountLCY",
                "Expression": "0-AmountLCY",
                "Tokens": [
                  {
                    "TokenName": "AmountLCY",
                    "TokenValue": {
                      "Type": "Lookup",
                      "Lookup": {
                        "SourceType": "Current Record",
                        "TableName": "Gen. Journal Line",
                        "FieldName": "Amount (LCY)"
                      }
                    }
                  }
                ]
              }
            }
          ],
          "ElseIf": {
            "Condition": {
              "Body": []
            },
            "Body": [
              {
                "ActivityType": "SETVARIABLE",
                "Activity": {
                  "OutputVariableName": "PositiveAmount",
                  "OutputValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Amount"
                    }
                  }
                }
              },
              {
                "ActivityType": "SETVARIABLE",
                "Activity": {
                  "OutputVariableName": "PositiveAmountLCY",
                  "OutputValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Amount (LCY)"
                    }
                  }
                }
              }
            ]
          }
        }
      },
      {
        "ActivityType": "IFSTATEMENT",
        "Activity": {
          "Condition": {
            "Body": [
              {
                "Operator": " ",
                "ConditionType": "Is Less Than",
                "LHS": {
                  "Lookup": {
                    "SourceType": "Current Record",
                    "TableName": "Gen. Journal Line",
                    "FieldName": "Amount Excl. GST"
                  }
                },
                "RHS": {
                  "Type": "Constant",
                  "Value": ""
                }
              }
            ]
          },
          "Body": [
            {
              "ActivityType": "NUMBERCALCULATION",
              "Activity": {
                "OutputVariableName": "PositiveAmtExclGST",
                "Operator": "Minus",
                "LHS": {
                  "Type": "Constant",
                  "Value": ""
                },
                "RHS": {
                  "Type": "Lookup",
                  "Lookup": {
                    "SourceType": "Current Record",
                    "TableName": "Gen. Journal Line",
                    "FieldName": "Amount Excl. GST"
                  }
                }
              }
            }
          ],
          "ElseIf": {
            "Condition": {
              "Body": []
            },
            "Body": [
              {
                "ActivityType": "SETVARIABLE",
                "Activity": {
                  "OutputVariableName": "PositiveAmtExclGST",
                  "OutputValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Amount Excl. GST"
                    }
                  }
                }
              }
            ]
          }
        }
      },
      {
        "ActivityType": "IFSTATEMENT",
        "Activity": {
          "Condition": {
            "Body": [
              {
                "Operator": " ",
                "ConditionType": "Not Equals",
                "LHS": {
                  "Lookup": {
                    "SourceType": "Variable",
                    "VariableName": "PositiveAmtExclGST"
                  }
                },
                "RHS": {
                  "Type": "Constant",
                  "Value": ""
                }
              }
            ]
          },
          "Body": [
            {
              "ActivityType": "SETVARIABLE",
              "Activity": {
                "OutputVariableName": "PositiveAmount",
                "OutputValue": {
                  "Type": "Lookup",
                  "Lookup": {
                    "SourceType": "Variable",
                    "VariableName": "PositiveAmtExclGST"
                  }
                }
              }
            },
            {
              "ActivityType": "SETVARIABLE",
              "Activity": {
                "OutputVariableName": "PositiveAmountLCY",
                "OutputValue": {
                  "Type": "Lookup",
                  "Lookup": {
                    "SourceType": "Variable",
                    "VariableName": "PositiveAmtExclGST"
                  }
                }
              }
            }
          ]
        }
      },
      {
        "ActivityType": "COMMENT",
        "Activity": {
          "Comment": "Created string for current financial year"
        }
      },
      {
        "ActivityType": "SETVARIABLE",
        "Activity": {
          "OutputVariableName": "FiscalYearStartDate",
          "OutputValue": {
            "Type": "Lookup",
            "Lookup": {
              "SourceType": "Table",
              "TableName": "Tax Accounting Period",
              "TableFieldName": "Starting Date",
              "Method": "Last",
              "TableFilters": [
                {
                  "FiterFieldName": "Tax Type Code",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Table",
                      "TableName": "Tax Type",
                      "TableFieldName": "Accounting Period",
                      "Method": "First",
                      "TableFilters": [
                        {
                          "FiterFieldName": "Code",
                          "FilterType": "Equals",
                          "FilterValue": {
                            "Type": "Lookup",
                            "Lookup": {
                              "SourceType": "Table",
                              "TableName": "TDS Setup",
                              "TableFieldName": "Tax Type",
                              "Method": "First",
                              "TableFilters": []
                            }
                          }
                        }
                      ]
                    }
                  }
                },
                {
                  "FiterFieldName": "Starting Date",
                  "FilterType": "Is Less Than Or Equals To",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Posting Date"
                    }
                  }
                },
                {
                  "FiterFieldName": "New Fiscal Year",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Constant",
                    "Value": "true"
                  }
                },
                {
                  "FiterFieldName": "Closed",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Constant",
                    "Value": "false"
                  }
                }
              ]
            }
          }
        }
      },
      {
        "ActivityType": "IFSTATEMENT",
        "Activity": {
          "Condition": {
            "Body": [
              {
                "Operator": " ",
                "ConditionType": "Equals",
                "LHS": {
                  "Lookup": {
                    "SourceType": "Variable",
                    "VariableName": "FiscalYearStartDate"
                  }
                },
                "RHS": {
                  "Type": "Constant",
                  "Value": ""
                }
              }
            ]
          },
          "Body": [
            {
              "ActivityType": "SETVARIABLE",
              "Activity": {
                "OutputVariableName": "FiscalYearStartDate",
                "OutputValue": {
                  "Type": "Lookup",
                  "Lookup": {
                    "SourceType": "Current Record",
                    "TableName": "Gen. Journal Line",
                    "FieldName": "Posting Date"
                  }
                }
              }
            }
          ]
        }
      },
      {
        "ActivityType": "SETVARIABLE",
        "Activity": {
          "OutputVariableName": "FiscalYearEndDate",
          "OutputValue": {
            "Type": "Lookup",
            "Lookup": {
              "SourceType": "Table",
              "TableName": "Tax Accounting Period",
              "TableFieldName": "Ending Date",
              "Method": "Last",
              "TableFilters": [
                {
                  "FiterFieldName": "Tax Type Code",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Table",
                      "TableName": "Tax Type",
                      "TableFieldName": "Accounting Period",
                      "Method": "First",
                      "TableFilters": [
                        {
                          "FiterFieldName": "Code",
                          "FilterType": "Equals",
                          "FilterValue": {
                            "Type": "Lookup",
                            "Lookup": {
                              "SourceType": "Table",
                              "TableName": "TDS Setup",
                              "TableFieldName": "Tax Type",
                              "Method": "First",
                              "TableFilters": []
                            }
                          }
                        }
                      ]
                    }
                  }
                },
                {
                  "FiterFieldName": "New Fiscal Year",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Constant",
                    "Value": "false"
                  }
                },
                {
                  "FiterFieldName": "Closed",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Constant",
                    "Value": "false"
                  }
                },
                {
                  "FiterFieldName": "Ending Date",
                  "FilterType": "Is Greater Than Or Equals To",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Posting Date"
                    }
                  }
                }
              ]
            }
          }
        }
      },
      {
        "ActivityType": "IFSTATEMENT",
        "Activity": {
          "Condition": {
            "Body": [
              {
                "Operator": " ",
                "ConditionType": "Equals",
                "LHS": {
                  "Lookup": {
                    "SourceType": "Variable",
                    "VariableName": "FiscalYearEndDate"
                  }
                },
                "RHS": {
                  "Type": "Constant",
                  "Value": ""
                }
              }
            ]
          },
          "Body": [
            {
              "ActivityType": "SETVARIABLE",
              "Activity": {
                "OutputVariableName": "FiscalYearEndDate",
                "OutputValue": {
                  "Type": "Lookup",
                  "Lookup": {
                    "SourceType": "Current Record",
                    "TableName": "Gen. Journal Line",
                    "FieldName": "Posting Date"
                  }
                }
              }
            }
          ]
        }
      },
      {
        "ActivityType": "STRINGEXPRESSION",
        "Activity": {
          "OutputVariableName": "AccountingDateFilter",
          "Expression": "{StartDate}..{EndDate}",
          "Token": [
            {
              "TokenName": "EndDate",
              "FormatString": "",
              "LookupVariableName": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "FiscalYearEndDate"
                }
              }
            },
            {
              "TokenName": "StartDate",
              "FormatString": "",
              "LookupVariableName": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "FiscalYearStartDate"
                }
              }
            }
          ]
        }
      },
      {
        "ActivityType": "COMMENT",
        "Activity": {
          "Comment": "Total posted Invoice amount"
        }
      },
      {
        "ActivityType": "SETVARIABLE",
        "Activity": {
          "OutputVariableName": "InvoiceAmount",
          "OutputValue": {
            "Type": "Lookup",
            "Lookup": {
              "SourceType": "Table",
              "TableName": "TDS Entry",
              "TableFieldName": "Invoice Amount",
              "Method": "Sum",
              "TableFilters": [
                {
                  "FiterFieldName": "Vendor No.",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Account No."
                    }
                  }
                },
                {
                  "FiterFieldName": "Section",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "TDS Section Code"
                    }
                  }
                },
                {
                  "FiterFieldName": "Assessee Code",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Tax Attributes",
                      "AttributeName": "Assessee Code"
                    }
                  }
                },
                {
                  "FiterFieldName": "Posting Date",
                  "FilterType": "CAL Filter",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Variable",
                      "VariableName": "AccountingDateFilter"
                    }
                  }
                },
                {
                  "FiterFieldName": "Document Type",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Constant",
                    "Value": "Invoice"
                  }
                }
              ]
            }
          }
        }
      },
      {
        "ActivityType": "IFSTATEMENT",
        "Activity": {
          "Condition": {
            "Body": [
              {
                "Operator": " ",
                "ConditionType": "Is Less Than",
                "LHS": {
                  "Lookup": {
                    "SourceType": "Variable",
                    "VariableName": "InvoiceAmount"
                  }
                },
                "RHS": {
                  "Type": "Constant",
                  "Value": ""
                }
              }
            ]
          },
          "Body": [
            {
              "ActivityType": "NUMERICEXPRESSION",
              "Activity": {
                "VariableName": "InvoiceAmount",
                "Expression": "0-InvoiceAmount",
                "Tokens": [
                  {
                    "TokenName": "InvoiceAmount",
                    "TokenValue": {
                      "Type": "Lookup",
                      "Lookup": {
                        "SourceType": "Variable",
                        "VariableName": "InvoiceAmount"
                      }
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "ActivityType": "COMMENT",
        "Activity": {
          "Comment": "Get TDS Adjsusted Invoice Amount"
        }
      },
      {
        "ActivityType": "SETVARIABLE",
        "Activity": {
          "OutputVariableName": "AdjustedInvAmount",
          "OutputValue": {
            "Type": "Lookup",
            "Lookup": {
              "SourceType": "Table",
              "TableName": "TDS Entry",
              "TableFieldName": "Invoice Amount",
              "Method": "Sum",
              "TableFilters": [
                {
                  "FiterFieldName": "Vendor No.",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Account No."
                    }
                  }
                },
                {
                  "FiterFieldName": "Section",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "TDS Section Code"
                    }
                  }
                },
                {
                  "FiterFieldName": "Assessee Code",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Tax Attributes",
                      "AttributeName": "Assessee Code"
                    }
                  }
                },
                {
                  "FiterFieldName": "Posting Date",
                  "FilterType": "CAL Filter",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Variable",
                      "VariableName": "AccountingDateFilter"
                    }
                  }
                },
                {
                  "FiterFieldName": "Document Type",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Constant",
                    "Value": "Invoice"
                  }
                },
                {
                  "FiterFieldName": "Adjusted",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Constant",
                    "Value": "true"
                  }
                }
              ]
            }
          }
        }
      },
      {
        "ActivityType": "IFSTATEMENT",
        "Activity": {
          "Condition": {
            "Body": [
              {
                "Operator": " ",
                "ConditionType": "Is Less Than",
                "LHS": {
                  "Lookup": {
                    "SourceType": "Variable",
                    "VariableName": "AdjustedInvAmount"
                  }
                },
                "RHS": {
                  "Type": "Constant",
                  "Value": ""
                }
              }
            ]
          },
          "Body": [
            {
              "ActivityType": "NUMERICEXPRESSION",
              "Activity": {
                "VariableName": "AdjustedInvAmount",
                "Expression": "0-AdjustedInvAmount",
                "Tokens": [
                  {
                    "TokenName": "AdjustedInvAmount",
                    "TokenValue": {
                      "Type": "Lookup",
                      "Lookup": {
                        "SourceType": "Variable",
                        "VariableName": "AdjustedInvAmount"
                      }
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "ActivityType": "COMMENT",
        "Activity": {
          "Comment": "Total posted Payment amount"
        }
      },
      {
        "ActivityType": "SETVARIABLE",
        "Activity": {
          "OutputVariableName": "PaymentAmount",
          "OutputValue": {
            "Type": "Lookup",
            "Lookup": {
              "SourceType": "Table",
              "TableName": "TDS Entry",
              "TableFieldName": "Payment Amount",
              "Method": "Sum",
              "TableFilters": [
                {
                  "FiterFieldName": "Vendor No.",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Account No."
                    }
                  }
                },
                {
                  "FiterFieldName": "Section",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "TDS Section Code"
                    }
                  }
                },
                {
                  "FiterFieldName": "Assessee Code",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Tax Attributes",
                      "AttributeName": "Assessee Code"
                    }
                  }
                },
                {
                  "FiterFieldName": "Posting Date",
                  "FilterType": "CAL Filter",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Variable",
                      "VariableName": "AccountingDateFilter"
                    }
                  }
                },
                {
                  "FiterFieldName": "Document Type",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Constant",
                    "Value": "Payment"
                  }
                }
              ]
            }
          }
        }
      },
      {
        "ActivityType": "COMMENT",
        "Activity": {
          "Comment": "Sum of posted payment and invoice amount"
        }
      },
      {
        "ActivityType": "NUMERICEXPRESSION",
        "Activity": {
          "VariableName": "PrevInvAmountLCY",
          "Expression": "PostedInvoiceAmount+PostedPaymentAmount",
          "Tokens": [
            {
              "TokenName": "PostedInvoiceAmount",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "InvoiceAmount"
                }
              }
            },
            {
              "TokenName": "PostedPaymentAmount",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "PaymentAmount"
                }
              }
            }
          ]
        }
      },
      {
        "ActivityType": "COMMENT",
        "Activity": {
          "Comment": "Total posted contract amount"
        }
      },
      {
        "ActivityType": "SETVARIABLE",
        "Activity": {
          "OutputVariableName": "PreviousContractAmount",
          "OutputValue": {
            "Type": "Lookup",
            "Lookup": {
              "SourceType": "Table",
              "TableName": "TDS Entry",
              "TableFieldName": "Invoice Amount",
              "Method": "Sum",
              "TableFilters": [
                {
                  "FiterFieldName": "Vendor No.",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Account No."
                    }
                  }
                },
                {
                  "FiterFieldName": "Section",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "TDS Section Code"
                    }
                  }
                },
                {
                  "FiterFieldName": "Posting Date",
                  "FilterType": "CAL Filter",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Variable",
                      "VariableName": "AccountingDateFilter"
                    }
                  }
                },
                {
                  "FiterFieldName": "Per Contract",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Constant",
                    "Value": "true"
                  }
                }
              ]
            }
          }
        }
      },
      {
        "ActivityType": "COMMENT",
        "Activity": {
          "Comment": "Total Posted amount without contract amount"
        }
      },
      {
        "ActivityType": "NUMERICEXPRESSION",
        "Activity": {
          "VariableName": "TotalInvAmtWOContractLCY",
          "Expression": "TotalPostedAmount-PostedContractAmount",
          "Tokens": [
            {
              "TokenName": "PostedContractAmount",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "PreviousContractAmount"
                }
              }
            },
            {
              "TokenName": "TotalPostedAmount",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "TotalInvAmountLCY"
                }
              }
            }
          ]
        }
      },
      {
        "ActivityType": "COMMENT",
        "Activity": {
          "Comment": "Total Payment Amount on current batch"
        }
      },
      {
        "ActivityType": "SETVARIABLE",
        "Activity": {
          "OutputVariableName": "BatchPaymentAmountLCY",
          "OutputValue": {
            "Type": "Lookup",
            "Lookup": {
              "SourceType": "Table",
              "TableName": "Gen. Journal Line",
              "TableFieldName": "Amount (LCY)",
              "Method": "Sum",
              "TableFilters": [
                {
                  "FiterFieldName": "Journal Template Name",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Journal Template Name"
                    }
                  }
                },
                {
                  "FiterFieldName": "Line No.",
                  "FilterType": "Not Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Line No."
                    }
                  }
                },
                {
                  "FiterFieldName": "Account Type",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Account Type"
                    }
                  }
                },
                {
                  "FiterFieldName": "Account No.",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Account No."
                    }
                  }
                },
                {
                  "FiterFieldName": "Document Type",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Constant",
                    "Value": "Payment"
                  }
                },
                {
                  "FiterFieldName": "Journal Batch Name",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Journal Batch Name"
                    }
                  }
                },
                {
                  "FiterFieldName": "TDS Section Code",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "TDS Section Code"
                    }
                  }
                }
              ]
            }
          }
        }
      },
      {
        "ActivityType": "COMMENT",
        "Activity": {
          "Comment": "Total Invoice Amount on current batch"
        }
      },
      {
        "ActivityType": "SETVARIABLE",
        "Activity": {
          "OutputVariableName": "BatchInvoiceAmountLCY",
          "OutputValue": {
            "Type": "Lookup",
            "Lookup": {
              "SourceType": "Table",
              "TableName": "Gen. Journal Line",
              "TableFieldName": "Amount (LCY)",
              "Method": "Sum",
              "TableFilters": [
                {
                  "FiterFieldName": "Journal Template Name",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Journal Template Name"
                    }
                  }
                },
                {
                  "FiterFieldName": "Line No.",
                  "FilterType": "Not Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Line No."
                    }
                  }
                },
                {
                  "FiterFieldName": "Account Type",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Account Type"
                    }
                  }
                },
                {
                  "FiterFieldName": "Account No.",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Account No."
                    }
                  }
                },
                {
                  "FiterFieldName": "Document Type",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Constant",
                    "Value": "Invoice"
                  }
                },
                {
                  "FiterFieldName": "Journal Batch Name",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Journal Batch Name"
                    }
                  }
                },
                {
                  "FiterFieldName": "TDS Section Code",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "TDS Section Code"
                    }
                  }
                }
              ]
            }
          }
        }
      },
      {
        "ActivityType": "NUMBERCALCULATION",
        "Activity": {
          "OutputVariableName": "BatchInvoiceAmountLCY",
          "Operator": "Minus",
          "LHS": {
            "Type": "Constant",
            "Value": "0"
          },
          "RHS": {
            "Type": "Lookup",
            "Lookup": {
              "SourceType": "Variable",
              "VariableName": "BatchInvoiceAmountLCY"
            }
          }
        }
      },
      {
        "ActivityType": "COMMENT",
        "Activity": {
          "Comment": "Total Batch amount including Current Line Amount"
        }
      },
      {
        "ActivityType": "NUMERICEXPRESSION",
        "Activity": {
          "VariableName": "BatchAmountLCY",
          "Expression": "BatchPaymentAmount+BatchInvoiceAmount+AmountLCY",
          "Tokens": [
            {
              "TokenName": "AmountLCY",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "PositiveAmountLCY"
                }
              }
            },
            {
              "TokenName": "BatchInvoiceAmount",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "BatchInvoiceAmountLCY"
                }
              }
            },
            {
              "TokenName": "BatchPaymentAmount",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "BatchPaymentAmountLCY"
                }
              }
            }
          ]
        }
      },
      {
        "ActivityType": "IFSTATEMENT",
        "Activity": {
          "Condition": {
            "Body": [
              {
                "Operator": " ",
                "ConditionType": "Equals",
                "LHS": {
                  "Lookup": {
                    "SourceType": "Current Record",
                    "TableName": "Gen. Journal Line",
                    "FieldName": "TDS Posting to G/L"
                  }
                },
                "RHS": {
                  "Type": "Constant",
                  "Value": "true"
                }
              }
            ]
          },
          "Body": [
            {
              "ActivityType": "SETVARIABLE",
              "Activity": {
                "OutputVariableName": "BatchAmountLCY",
                "OutputValue": {
                  "Type": "Lookup",
                  "Lookup": {
                    "SourceType": "Variable",
                    "VariableName": "PositiveAmountLCY"
                  }
                }
              }
            }
          ]
        }
      },
      {
        "ActivityType": "NUMERICEXPRESSION",
        "Activity": {
          "VariableName": "TotalInvAmountLCY",
          "Expression": "PostedAmountLCY+BatchAmountLCY",
          "Tokens": [
            {
              "TokenName": "BatchAmountLCY",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "BatchAmountLCY"
                }
              }
            },
            {
              "TokenName": "PostedAmountLCY",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "PrevInvAmountLCY"
                }
              }
            }
          ]
        }
      },
      {
        "ActivityType": "COMMENT",
        "Activity": {
          "Comment": "Converted Amount from LCY to FCY"
        }
      },
      {
        "ActivityType": "IFSTATEMENT",
        "Activity": {
          "Condition": {
            "Body": [
              {
                "Operator": " ",
                "ConditionType": "Not Equals",
                "LHS": {
                  "Lookup": {
                    "SourceType": "Current Record",
                    "TableName": "Gen. Journal Line",
                    "FieldName": "Currency Code"
                  }
                },
                "RHS": {
                  "Type": "Constant",
                  "Value": ""
                }
              }
            ]
          },
          "Body": [
            {
              "ActivityType": "NUMBERCALCULATION",
              "Activity": {
                "OutputVariableName": "TotalInvAmount",
                "Operator": "Multiply By",
                "LHS": {
                  "Type": "Lookup",
                  "Lookup": {
                    "SourceType": "Variable",
                    "VariableName": "TotalInvAmountLCY"
                  }
                },
                "RHS": {
                  "Type": "Lookup",
                  "Lookup": {
                    "SourceType": "Current Record",
                    "TableName": "Gen. Journal Line",
                    "FieldName": "Currency Factor"
                  }
                }
              }
            },
            {
              "ActivityType": "NUMBERCALCULATION",
              "Activity": {
                "OutputVariableName": "TotalInvAmtWOContract",
                "Operator": "Multiply By",
                "LHS": {
                  "Type": "Lookup",
                  "Lookup": {
                    "SourceType": "Variable",
                    "VariableName": "TotalInvAmtWOContractLCY"
                  }
                },
                "RHS": {
                  "Type": "Lookup",
                  "Lookup": {
                    "SourceType": "Current Record",
                    "TableName": "Gen. Journal Line",
                    "FieldName": "Currency Factor"
                  }
                }
              }
            },
            {
              "ActivityType": "NUMBERCALCULATION",
              "Activity": {
                "OutputVariableName": "PrevInvAmount",
                "Operator": "Multiply By",
                "LHS": {
                  "Type": "Lookup",
                  "Lookup": {
                    "SourceType": "Variable",
                    "VariableName": "PrevInvAmountLCY"
                  }
                },
                "RHS": {
                  "Type": "Lookup",
                  "Lookup": {
                    "SourceType": "Current Record",
                    "TableName": "Gen. Journal Line",
                    "FieldName": "Currency Factor"
                  }
                }
              }
            }
          ],
          "ElseIf": {
            "Condition": {
              "Body": []
            },
            "Body": [
              {
                "ActivityType": "SETVARIABLE",
                "Activity": {
                  "OutputVariableName": "TotalInvAmount",
                  "OutputValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Variable",
                      "VariableName": "TotalInvAmountLCY"
                    }
                  }
                }
              },
              {
                "ActivityType": "SETVARIABLE",
                "Activity": {
                  "OutputVariableName": "TotalInvAmtWOContract",
                  "OutputValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Variable",
                      "VariableName": "TotalInvAmtWOContractLCY"
                    }
                  }
                }
              },
              {
                "ActivityType": "SETVARIABLE",
                "Activity": {
                  "OutputVariableName": "PrevInvAmount",
                  "OutputValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Variable",
                      "VariableName": "PrevInvAmountLCY"
                    }
                  }
                }
              }
            ]
          }
        }
      },
      {
        "ActivityType": "COMMENT",
        "Activity": {
          "Comment": "Get applied amount"
        }
      },
      {
        "ActivityType": "IFSTATEMENT",
        "Activity": {
          "Condition": {
            "Body": [
              {
                "Operator": " ",
                "ConditionType": "Equals",
                "LHS": {
                  "Lookup": {
                    "SourceType": "Current Record",
                    "TableName": "Gen. Journal Line",
                    "FieldName": "Document Type"
                  }
                },
                "RHS": {
                  "Type": "Constant",
                  "Value": "Invoice"
                }
              },
              {
                "Operator": "and",
                "ConditionType": "Equals",
                "LHS": {
                  "Lookup": {
                    "SourceType": "Current Record",
                    "TableName": "Gen. Journal Line",
                    "FieldName": "Document Type"
                  }
                },
                "RHS": {
                  "Type": "Constant",
                  "Value": "Payment"
                }
              }
            ]
          },
          "Body": [
            {
              "ActivityType": "IFSTATEMENT",
              "Activity": {
                "Condition": {
                  "Body": [
                    {
                      "Operator": " ",
                      "ConditionType": "Not Equals",
                      "LHS": {
                        "Lookup": {
                          "SourceType": "Current Record",
                          "TableName": "Gen. Journal Line",
                          "FieldName": "Applies-to Doc. No."
                        }
                      },
                      "RHS": {
                        "Type": "Constant",
                        "Value": ""
                      }
                    }
                  ]
                },
                "Body": [
                  {
                    "ActivityType": "SETVARIABLE",
                    "Activity": {
                      "OutputVariableName": "AppliedAmount",
                      "OutputValue": {
                        "Type": "Lookup",
                        "Lookup": {
                          "SourceType": "Table",
                          "TableName": "Vendor Ledger Entry",
                          "TableFieldName": "Amount to Apply",
                          "Method": "Sum",
                          "TableFilters": [
                            {
                              "FiterFieldName": "Document No.",
                              "FilterType": "Equals",
                              "FilterValue": {
                                "Type": "Lookup",
                                "Lookup": {
                                  "SourceType": "Current Record",
                                  "TableName": "Gen. Journal Line",
                                  "FieldName": "Applies-to Doc. No."
                                }
                              }
                            },
                            {
                              "FiterFieldName": "TDS Section Code",
                              "FilterType": "Equals",
                              "FilterValue": {
                                "Type": "Lookup",
                                "Lookup": {
                                  "SourceType": "Current Record",
                                  "TableName": "Gen. Journal Line",
                                  "FieldName": "TDS Section Code"
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  }
                ]
              }
            },
            {
              "ActivityType": "IFSTATEMENT",
              "Activity": {
                "Condition": {
                  "Body": [
                    {
                      "Operator": " ",
                      "ConditionType": "Not Equals",
                      "LHS": {
                        "Lookup": {
                          "SourceType": "Current Record",
                          "TableName": "Gen. Journal Line",
                          "FieldName": "Applies-to ID"
                        }
                      },
                      "RHS": {
                        "Type": "Constant",
                        "Value": ""
                      }
                    }
                  ]
                },
                "Body": [
                  {
                    "ActivityType": "SETVARIABLE",
                    "Activity": {
                      "OutputVariableName": "AppliedAmount",
                      "OutputValue": {
                        "Type": "Lookup",
                        "Lookup": {
                          "SourceType": "Table",
                          "TableName": "Vendor Ledger Entry",
                          "TableFieldName": "Amount to Apply",
                          "Method": "Sum",
                          "TableFilters": [
                            {
                              "FiterFieldName": "Applies-to ID",
                              "FilterType": "Equals",
                              "FilterValue": {
                                "Type": "Lookup",
                                "Lookup": {
                                  "SourceType": "Current Record",
                                  "TableName": "Gen. Journal Line",
                                  "FieldName": "Applies-to ID"
                                }
                              }
                            },
                            {
                              "FiterFieldName": "TDS Section Code",
                              "FilterType": "Equals",
                              "FilterValue": {
                                "Type": "Lookup",
                                "Lookup": {
                                  "SourceType": "Current Record",
                                  "TableName": "Gen. Journal Line",
                                  "FieldName": "TDS Section Code"
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "ActivityType": "IFSTATEMENT",
        "Activity": {
          "Condition": {
            "Body": [
              {
                "Operator": " ",
                "ConditionType": "Is Less Than",
                "LHS": {
                  "Lookup": {
                    "SourceType": "Variable",
                    "VariableName": "AppliedAmount"
                  }
                },
                "RHS": {
                  "Type": "Constant",
                  "Value": ""
                }
              }
            ]
          },
          "Body": [
            {
              "ActivityType": "NUMBERCALCULATION",
              "Activity": {
                "OutputVariableName": "AppliedAmount",
                "Operator": "Minus",
                "LHS": {
                  "Type": "Constant",
                  "Value": ""
                },
                "RHS": {
                  "Type": "Lookup",
                  "Lookup": {
                    "SourceType": "Variable",
                    "VariableName": "AppliedAmount"
                  }
                }
              }
            }
          ]
        }
      },
      {
        "ActivityType": "COMMENT",
        "Activity": {
          "Comment": "Get GST Amount"
        }
      },
      {
        "ActivityType": "SETVARIABLE",
        "Activity": {
          "OutputVariableName": "GSTAmount",
          "OutputValue": {
            "Type": "Constant",
            "Value": ""
          }
        }
      },
      {
        "ActivityType": "IFSTATEMENT",
        "Activity": {
          "Condition": {
            "Body": [
              {
                "Operator": " ",
                "ConditionType": "Equals",
                "LHS": {
                  "Lookup": {
                    "SourceType": "Current Record",
                    "TableName": "Gen. Journal Line",
                    "FieldName": "Include GST in TDS Base"
                  }
                },
                "RHS": {
                  "Type": "Constant",
                  "Value": "true"
                }
              }
            ]
          },
          "Body": [
            {
              "ActivityType": "STRINGEXPRESSION",
              "Activity": {
                "OutputVariableName": "RecID",
                "Expression": "Gen. Journal Line: {JournalTemplateName},{JournalBatchName},{LineNo}",
                "Token": [
                  {
                    "TokenName": "JournalBatchName",
                    "FormatString": "",
                    "LookupVariableName": {
                      "Type": "Lookup",
                      "Lookup": {
                        "SourceType": "Current Record",
                        "TableName": "Gen. Journal Line",
                        "FieldName": "Journal Batch Name"
                      }
                    }
                  },
                  {
                    "TokenName": "JournalTemplateName",
                    "FormatString": "",
                    "LookupVariableName": {
                      "Type": "Lookup",
                      "Lookup": {
                        "SourceType": "Current Record",
                        "TableName": "Gen. Journal Line",
                        "FieldName": "Journal Template Name"
                      }
                    }
                  },
                  {
                    "TokenName": "LineNo",
                    "FormatString": "",
                    "LookupVariableName": {
                      "Type": "Lookup",
                      "Lookup": {
                        "SourceType": "Current Record",
                        "TableName": "Gen. Journal Line",
                        "FieldName": "Line No."
                      }
                    }
                  }
                ]
              }
            },
            {
              "ActivityType": "SETVARIABLE",
              "Activity": {
                "OutputVariableName": "GSTAmount",
                "OutputValue": {
                  "Type": "Lookup",
                  "Lookup": {
                    "SourceType": "Table",
                    "TableName": "Tax Transaction Value",
                    "TableFieldName": "Amount (LCY)",
                    "Method": "Sum",
                    "TableFilters": [
                      {
                        "FiterFieldName": "Tax Record ID",
                        "FilterType": "Equals",
                        "FilterValue": {
                          "Type": "Lookup",
                          "Lookup": {
                            "SourceType": "Variable",
                            "VariableName": "RecID"
                          }
                        }
                      },
                      {
                        "FiterFieldName": "Value Type",
                        "FilterType": "Equals",
                        "FilterValue": {
                          "Type": "Constant",
                          "Value": "COMPONENT"
                        }
                      },
                      {
                        "FiterFieldName": "Percent",
                        "FilterType": "Not Equals",
                        "FilterValue": {
                          "Type": "Constant",
                          "Value": "0"
                        }
                      },
                      {
                        "FiterFieldName": "Tax Type",
                        "FilterType": "Equals",
                        "FilterValue": {
                          "Type": "Lookup",
                          "Lookup": {
                            "SourceType": "Table",
                            "TableName": "GST Setup",
                            "TableFieldName": "GST Tax Type",
                            "Method": "First",
                            "TableFilters": []
                          }
                        }
                      }
                    ]
                  }
                }
              }
            },
            {
              "ActivityType": "IFSTATEMENT",
              "Activity": {
                "Condition": {
                  "Body": [
                    {
                      "Operator": " ",
                      "ConditionType": "Is Less Than",
                      "LHS": {
                        "Lookup": {
                          "SourceType": "Variable",
                          "VariableName": "GSTAmount"
                        }
                      },
                      "RHS": {
                        "Type": "Constant",
                        "Value": ""
                      }
                    }
                  ]
                },
                "Body": [
                  {
                    "ActivityType": "NUMERICEXPRESSION",
                    "Activity": {
                      "VariableName": "GSTAmount",
                      "Expression": "0-GSTAmount",
                      "Tokens": [
                        {
                          "TokenName": "GSTAmount",
                          "TokenValue": {
                            "Type": "Lookup",
                            "Lookup": {
                              "SourceType": "Variable",
                              "VariableName": "GSTAmount"
                            }
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "ActivityType": "IFSTATEMENT",
        "Activity": {
          "Condition": {
            "Body": [
              {
                "Operator": " ",
                "ConditionType": "Is Less Than",
                "LHS": {
                  "Lookup": {
                    "SourceType": "Variable",
                    "VariableName": "AppliedAmount"
                  }
                },
                "RHS": {
                  "Type": "Lookup",
                  "Lookup": {
                    "SourceType": "Variable",
                    "VariableName": "PositiveAmount"
                  }
                }
              }
            ]
          },
          "Body": [
            {
              "ActivityType": "NUMERICEXPRESSION",
              "Activity": {
                "VariableName": "TaxableAmountExclApplied",
                "Expression": "Amount+GSTAmount-AppliedAmount",
                "Tokens": [
                  {
                    "TokenName": "Amount",
                    "TokenValue": {
                      "Type": "Lookup",
                      "Lookup": {
                        "SourceType": "Variable",
                        "VariableName": "PositiveAmount"
                      }
                    }
                  },
                  {
                    "TokenName": "AppliedAmount",
                    "TokenValue": {
                      "Type": "Lookup",
                      "Lookup": {
                        "SourceType": "Variable",
                        "VariableName": "AppliedAmount"
                      }
                    }
                  },
                  {
                    "TokenName": "GSTAmount",
                    "TokenValue": {
                      "Type": "Lookup",
                      "Lookup": {
                        "SourceType": "Variable",
                        "VariableName": "GSTAmount"
                      }
                    }
                  }
                ]
              }
            },
            {
              "ActivityType": "SETVARIABLE",
              "Activity": {
                "OutputVariableName": "TDSBaseAmt",
                "OutputValue": {
                  "Type": "Lookup",
                  "Lookup": {
                    "SourceType": "Variable",
                    "VariableName": "TaxableAmountExclApplied"
                  }
                }
              }
            }
          ],
          "ElseIf": {
            "Condition": {
              "Body": []
            },
            "Body": [
              {
                "ActivityType": "SETVARIABLE",
                "Activity": {
                  "OutputVariableName": "TaxableAmountExclApplied",
                  "OutputValue": {
                    "Type": "Constant",
                    "Value": "0"
                  }
                }
              }
            ]
          }
        }
      },
      {
        "ActivityType": "COMMENT",
        "Activity": {
          "Comment": "Total Taxable Amount"
        }
      },
      {
        "ActivityType": "NUMERICEXPRESSION",
        "Activity": {
          "VariableName": "TotalTaxableInvAmount",
          "Expression": "(PostedAmount+Amount+GSTAmount)-AppliedAmount-AdjustedInvAmount",
          "Tokens": [
            {
              "TokenName": "AdjustedInvAmount",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "AdjustedInvAmount"
                }
              }
            },
            {
              "TokenName": "Amount",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "PositiveAmount"
                }
              }
            },
            {
              "TokenName": "AppliedAmount",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "AppliedAmount"
                }
              }
            },
            {
              "TokenName": "GSTAmount",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "GSTAmount"
                }
              }
            },
            {
              "TokenName": "PostedAmount",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "PrevInvAmount"
                }
              }
            }
          ]
        }
      },
      {
        "ActivityType": "COMMENT",
        "Activity": {
          "Comment": "Total Taxable Amount excluding posted contract amount"
        }
      },
      {
        "ActivityType": "NUMERICEXPRESSION",
        "Activity": {
          "VariableName": "TotalTaxableInvAmtWOContract",
          "Expression": "((PostedAmount-ContractAmt)+Amount+GSTAmount)-AppliedAmount-AdjustedInvAmount",
          "Tokens": [
            {
              "TokenName": "AdjustedInvAmount",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "AdjustedInvAmount"
                }
              }
            },
            {
              "TokenName": "Amount",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "PositiveAmount"
                }
              }
            },
            {
              "TokenName": "AppliedAmount",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "AppliedAmount"
                }
              }
            },
            {
              "TokenName": "ContractAmt",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "PreviousContractAmount"
                }
              }
            },
            {
              "TokenName": "GSTAmount",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "GSTAmount"
                }
              }
            },
            {
              "TokenName": "PostedAmount",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "PrevInvAmount"
                }
              }
            }
          ]
        }
      },
      {
        "ActivityType": "COMMENT",
        "Activity": {
          "Comment": "Condition to calculate TDS Amount considering Threshold limit"
        }
      },
      {
        "ActivityType": "IFSTATEMENT",
        "Activity": {
          "Condition": {
            "Body": [
              {
                "Operator": " ",
                "ConditionType": "Equals",
                "LHS": {
                  "Lookup": {
                    "SourceType": "Table",
                    "TableName": "Allowed Sections",
                    "TableFieldName": "",
                    "Method": "Exist",
                    "TableFilters": [
                      {
                        "FiterFieldName": "Vendor No",
                        "FilterType": "Equals",
                        "FilterValue": {
                          "Type": "Lookup",
                          "Lookup": {
                            "SourceType": "Current Record",
                            "TableName": "Gen. Journal Line",
                            "FieldName": "Account No."
                          }
                        }
                      },
                      {
                        "FiterFieldName": "TDS Section",
                        "FilterType": "Equals",
                        "FilterValue": {
                          "Type": "Lookup",
                          "Lookup": {
                            "SourceType": "Current Record",
                            "TableName": "Gen. Journal Line",
                            "FieldName": "TDS Section Code"
                          }
                        }
                      },
                      {
                        "FiterFieldName": "Threshold Overlook",
                        "FilterType": "Equals",
                        "FilterValue": {
                          "Type": "Constant",
                          "Value": "true"
                        }
                      }
                    ]
                  }
                },
                "RHS": {
                  "Type": "Constant",
                  "Value": ""
                }
              }
            ]
          },
          "Body": [
            {
              "ActivityType": "IFSTATEMENT",
              "Activity": {
                "Condition": {
                  "Body": [
                    {
                      "Operator": " ",
                      "ConditionType": "Is Less Than Or Equals To",
                      "LHS": {
                        "Lookup": {
                          "SourceType": "Variable",
                          "VariableName": "PrevInvAmountLCY"
                        }
                      },
                      "RHS": {
                        "Type": "Lookup",
                        "Lookup": {
                          "SourceType": "Column",
                          "RateColumnName": "TDS Threshold Amount"
                        }
                      }
                    }
                  ]
                },
                "Body": [
                  {
                    "ActivityType": "IFSTATEMENT",
                    "Activity": {
                      "Condition": {
                        "Body": [
                          {
                            "Operator": " ",
                            "ConditionType": "Not Equals",
                            "LHS": {
                              "Lookup": {
                                "SourceType": "Column",
                                "RateColumnName": "Per Contract Value"
                              }
                            },
                            "RHS": {
                              "Type": "Constant",
                              "Value": ""
                            }
                          }
                        ]
                      },
                      "Body": [
                        {
                          "ActivityType": "IFSTATEMENT",
                          "Activity": {
                            "Condition": {
                              "Body": [
                                {
                                  "Operator": " ",
                                  "ConditionType": "Is Greater Than",
                                  "LHS": {
                                    "Lookup": {
                                      "SourceType": "Variable",
                                      "VariableName": "TotalInvAmountLCY"
                                    }
                                  },
                                  "RHS": {
                                    "Type": "Lookup",
                                    "Lookup": {
                                      "SourceType": "Column",
                                      "RateColumnName": "TDS Threshold Amount"
                                    }
                                  }
                                }
                              ]
                            },
                            "Body": [
                              {
                                "ActivityType": "SETVARIABLE",
                                "Activity": {
                                  "OutputVariableName": "TDSTaxableAmount",
                                  "OutputValue": {
                                    "Type": "Lookup",
                                    "Lookup": {
                                      "SourceType": "Variable",
                                      "VariableName": "TotalTaxableInvAmtWOContract"
                                    }
                                  }
                                }
                              },
                              {
                                "ActivityType": "IFSTATEMENT",
                                "Activity": {
                                  "Condition": {
                                    "Body": [
                                      {
                                        "Operator": " ",
                                        "ConditionType": "Equals",
                                        "LHS": {
                                          "Lookup": {
                                            "SourceType": "Column",
                                            "RateColumnName": "Calc. Over & Above Threshold"
                                          }
                                        },
                                        "RHS": {
                                          "Type": "Constant",
                                          "Value": "1"
                                        }
                                      }
                                    ]
                                  },
                                  "Body": [
                                    {
                                      "ActivityType": "NUMERICEXPRESSION",
                                      "Activity": {
                                        "VariableName": "TDSTaxableAmount",
                                        "Expression": "TDSTaxableAmount-TDSThresholdAmount",
                                        "Tokens": [
                                          {
                                            "TokenName": "TDSTaxableAmount",
                                            "TokenValue": {
                                              "Type": "Lookup",
                                              "Lookup": {
                                                "SourceType": "Variable",
                                                "VariableName": "TDSTaxableAmount"
                                              }
                                            }
                                          },
                                          {
                                            "TokenName": "TDSThresholdAmount",
                                            "TokenValue": {
                                              "Type": "Lookup",
                                              "Lookup": {
                                                "SourceType": "Column",
                                                "RateColumnName": "TDS Threshold Amount"
                                              }
                                            }
                                          }
                                        ]
                                      }
                                    },
                                    {
                                      "ActivityType": "IFSTATEMENT",
                                      "Activity": {
                                        "Condition": {
                                          "Body": [
                                            {
                                              "Operator": " ",
                                              "ConditionType": "Is Less Than",
                                              "LHS": {
                                                "Lookup": {
                                                  "SourceType": "Variable",
                                                  "VariableName": "TDSTaxableAmount"
                                                }
                                              },
                                              "RHS": {
                                                "Type": "Constant",
                                                "Value": ""
                                              }
                                            }
                                          ]
                                        },
                                        "Body": [
                                          {
                                            "ActivityType": "SETVARIABLE",
                                            "Activity": {
                                              "OutputVariableName": "TDSTaxableAmount",
                                              "OutputValue": {
                                                "Type": "Constant",
                                                "Value": ""
                                              }
                                            }
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                }
                              }
                            ],
                            "ElseIf": {
                              "Condition": {
                                "Body": []
                              },
                              "Body": [
                                {
                                  "ActivityType": "IFSTATEMENT",
                                  "Activity": {
                                    "Condition": {
                                      "Body": [
                                        {
                                          "Operator": " ",
                                          "ConditionType": "Is Greater Than",
                                          "LHS": {
                                            "Lookup": {
                                              "SourceType": "Variable",
                                              "VariableName": "PositiveAmountLCY"
                                            }
                                          },
                                          "RHS": {
                                            "Type": "Lookup",
                                            "Lookup": {
                                              "SourceType": "Column",
                                              "RateColumnName": "Per Contract Value"
                                            }
                                          }
                                        }
                                      ]
                                    },
                                    "Body": [
                                      {
                                        "ActivityType": "SETVARIABLE",
                                        "Activity": {
                                          "OutputVariableName": "TDSTaxableAmount",
                                          "OutputValue": {
                                            "Type": "Lookup",
                                            "Lookup": {
                                              "SourceType": "Variable",
                                              "VariableName": "TaxableAmountExclApplied"
                                            }
                                          }
                                        }
                                      }
                                    ],
                                    "ElseIf": {
                                      "Condition": {
                                        "Body": []
                                      },
                                      "Body": [
                                        {
                                          "ActivityType": "SETVARIABLE",
                                          "Activity": {
                                            "OutputVariableName": "TDSTaxableAmount",
                                            "OutputValue": {
                                              "Type": "Constant",
                                              "Value": ""
                                            }
                                          }
                                        }
                                      ]
                                    }
                                  }
                                }
                              ]
                            }
                          }
                        }
                      ],
                      "ElseIf": {
                        "Condition": {
                          "Body": [
                            {
                              "Operator": " ",
                              "ConditionType": "Equals",
                              "LHS": {
                                "Lookup": {
                                  "SourceType": "Column",
                                  "RateColumnName": "Per Contract Value"
                                }
                              },
                              "RHS": {
                                "Type": "Constant",
                                "Value": ""
                              }
                            }
                          ]
                        },
                        "Body": [
                          {
                            "ActivityType": "IFSTATEMENT",
                            "Activity": {
                              "Condition": {
                                "Body": [
                                  {
                                    "Operator": " ",
                                    "ConditionType": "Is Greater Than",
                                    "LHS": {
                                      "Lookup": {
                                        "SourceType": "Variable",
                                        "VariableName": "TotalInvAmountLCY"
                                      }
                                    },
                                    "RHS": {
                                      "Type": "Lookup",
                                      "Lookup": {
                                        "SourceType": "Column",
                                        "RateColumnName": "TDS Threshold Amount"
                                      }
                                    }
                                  }
                                ]
                              },
                              "Body": [
                                {
                                  "ActivityType": "SETVARIABLE",
                                  "Activity": {
                                    "OutputVariableName": "TDSTaxableAmount",
                                    "OutputValue": {
                                      "Type": "Lookup",
                                      "Lookup": {
                                        "SourceType": "Variable",
                                        "VariableName": "TotalTaxableInvAmount"
                                      }
                                    }
                                  }
                                },
                                {
                                  "ActivityType": "IFSTATEMENT",
                                  "Activity": {
                                    "Condition": {
                                      "Body": [
                                        {
                                          "Operator": " ",
                                          "ConditionType": "Equals",
                                          "LHS": {
                                            "Lookup": {
                                              "SourceType": "Column",
                                              "RateColumnName": "Calc. Over & Above Threshold"
                                            }
                                          },
                                          "RHS": {
                                            "Type": "Constant",
                                            "Value": "1"
                                          }
                                        }
                                      ]
                                    },
                                    "Body": [
                                      {
                                        "ActivityType": "NUMERICEXPRESSION",
                                        "Activity": {
                                          "VariableName": "TDSTaxableAmount",
                                          "Expression": "TDSTaxableAmount-TDSThresholdAmount",
                                          "Tokens": [
                                            {
                                              "TokenName": "TDSTaxableAmount",
                                              "TokenValue": {
                                                "Type": "Lookup",
                                                "Lookup": {
                                                  "SourceType": "Variable",
                                                  "VariableName": "TDSTaxableAmount"
                                                }
                                              }
                                            },
                                            {
                                              "TokenName": "TDSThresholdAmount",
                                              "TokenValue": {
                                                "Type": "Lookup",
                                                "Lookup": {
                                                  "SourceType": "Column",
                                                  "RateColumnName": "TDS Threshold Amount"
                                                }
                                              }
                                            }
                                          ]
                                        }
                                      },
                                      {
                                        "ActivityType": "IFSTATEMENT",
                                        "Activity": {
                                          "Condition": {
                                            "Body": [
                                              {
                                                "Operator": " ",
                                                "ConditionType": "Is Less Than",
                                                "LHS": {
                                                  "Lookup": {
                                                    "SourceType": "Variable",
                                                    "VariableName": "TDSTaxableAmount"
                                                  }
                                                },
                                                "RHS": {
                                                  "Type": "Constant",
                                                  "Value": ""
                                                }
                                              }
                                            ]
                                          },
                                          "Body": [
                                            {
                                              "ActivityType": "SETVARIABLE",
                                              "Activity": {
                                                "OutputVariableName": "TDSTaxableAmount",
                                                "OutputValue": {
                                                  "Type": "Constant",
                                                  "Value": ""
                                                }
                                              }
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  }
                                }
                              ],
                              "ElseIf": {
                                "Condition": {
                                  "Body": []
                                },
                                "Body": [
                                  {
                                    "ActivityType": "SETVARIABLE",
                                    "Activity": {
                                      "OutputVariableName": "TDSTaxableAmount",
                                      "OutputValue": {
                                        "Type": "Constant",
                                        "Value": "0"
                                      }
                                    }
                                  }
                                ]
                              }
                            }
                          }
                        ]
                      }
                    }
                  }
                ],
                "ElseIf": {
                  "Condition": {
                    "Body": [
                      {
                        "Operator": " ",
                        "ConditionType": "Is Greater Than",
                        "LHS": {
                          "Lookup": {
                            "SourceType": "Variable",
                            "VariableName": "PrevInvAmountLCY"
                          }
                        },
                        "RHS": {
                          "Type": "Lookup",
                          "Lookup": {
                            "SourceType": "Column",
                            "RateColumnName": "TDS Threshold Amount"
                          }
                        }
                      }
                    ]
                  },
                  "Body": [
                    {
                      "ActivityType": "SETVARIABLE",
                      "Activity": {
                        "OutputVariableName": "TDSTaxableAmount",
                        "OutputValue": {
                          "Type": "Lookup",
                          "Lookup": {
                            "SourceType": "Variable",
                            "VariableName": "TaxableAmountExclApplied"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          ],
          "ElseIf": {
            "Condition": {
              "Body": []
            },
            "Body": [
              {
                "ActivityType": "SETVARIABLE",
                "Activity": {
                  "OutputVariableName": "TDSTaxableAmount",
                  "OutputValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Variable",
                      "VariableName": "TaxableAmountExclApplied"
                    }
                  }
                }
              }
            ]
          }
        }
      },
      {
        "ActivityType": "NUMERICEXPRESSION",
        "Activity": {
          "VariableName": "TDSAmount",
          "Expression": "TDSTaxableAmt*TDSPer/100",
          "Tokens": [
            {
              "TokenName": "TDSPer",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Component Percent",
                  "ComponentName": "TDS"
                }
              }
            },
            {
              "TokenName": "TDSTaxableAmt",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "TDSTaxableAmount"
                }
              }
            }
          ]
        }
      },
      {
        "ActivityType": "SETVARIABLE",
        "Activity": {
          "OutputVariableName": "PreSurchargeBaseAmt",
          "OutputValue": {
            "Type": "Lookup",
            "Lookup": {
              "SourceType": "Table",
              "TableName": "TDS Entry",
              "TableFieldName": "Surcharge Base Amount",
              "Method": "Sum",
              "TableFilters": [
                {
                  "FiterFieldName": "Vendor No.",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Account No."
                    }
                  }
                },
                {
                  "FiterFieldName": "Section",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "TDS Section Code"
                    }
                  }
                },
                {
                  "FiterFieldName": "Assessee Code",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Tax Attributes",
                      "AttributeName": "Assessee Code"
                    }
                  }
                },
                {
                  "FiterFieldName": "Posting Date",
                  "FilterType": "CAL Filter",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Variable",
                      "VariableName": "AccountingDateFilter"
                    }
                  }
                }
              ]
            }
          }
        }
      },
      {
        "ActivityType": "NUMERICEXPRESSION",
        "Activity": {
          "VariableName": "TotalSurchargeBaseAmt",
          "Expression": "PreSurchargeBaseAmt+TDSAmount",
          "Tokens": [
            {
              "TokenName": "PreSurchargeBaseAmt",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "PreSurchargeBaseAmt"
                }
              }
            },
            {
              "TokenName": "TDSAmount",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "TDSAmount"
                }
              }
            }
          ]
        }
      },
      {
        "ActivityType": "IFSTATEMENT",
        "Activity": {
          "Condition": {
            "Body": [
              {
                "Operator": " ",
                "ConditionType": "Equals",
                "LHS": {
                  "Lookup": {
                    "SourceType": "Table",
                    "TableName": "Allowed Sections",
                    "TableFieldName": "",
                    "Method": "Exist",
                    "TableFilters": [
                      {
                        "FiterFieldName": "Vendor No",
                        "FilterType": "Equals",
                        "FilterValue": {
                          "Type": "Lookup",
                          "Lookup": {
                            "SourceType": "Current Record",
                            "TableName": "Gen. Journal Line",
                            "FieldName": "Account No."
                          }
                        }
                      },
                      {
                        "FiterFieldName": "TDS Section",
                        "FilterType": "Equals",
                        "FilterValue": {
                          "Type": "Lookup",
                          "Lookup": {
                            "SourceType": "Current Record",
                            "TableName": "Gen. Journal Line",
                            "FieldName": "TDS Section Code"
                          }
                        }
                      },
                      {
                        "FiterFieldName": "Surcharge Overlook",
                        "FilterType": "Equals",
                        "FilterValue": {
                          "Type": "Constant",
                          "Value": "true"
                        }
                      }
                    ]
                  }
                },
                "RHS": {
                  "Type": "Constant",
                  "Value": ""
                }
              }
            ]
          },
          "Body": [
            {
              "ActivityType": "IFSTATEMENT",
              "Activity": {
                "Condition": {
                  "Body": [
                    {
                      "Operator": " ",
                      "ConditionType": "Is Less Than",
                      "LHS": {
                        "Lookup": {
                          "SourceType": "Variable",
                          "VariableName": "PrevInvAmountLCY"
                        }
                      },
                      "RHS": {
                        "Type": "Lookup",
                        "Lookup": {
                          "SourceType": "Column",
                          "RateColumnName": "Surcharge Threshold Amount"
                        }
                      }
                    }
                  ]
                },
                "Body": [
                  {
                    "ActivityType": "IFSTATEMENT",
                    "Activity": {
                      "Condition": {
                        "Body": [
                          {
                            "Operator": " ",
                            "ConditionType": "Is Greater Than",
                            "LHS": {
                              "Lookup": {
                                "SourceType": "Variable",
                                "VariableName": "TotalInvAmountLCY"
                              }
                            },
                            "RHS": {
                              "Type": "Lookup",
                              "Lookup": {
                                "SourceType": "Column",
                                "RateColumnName": "Surcharge Threshold Amount"
                              }
                            }
                          }
                        ]
                      },
                      "Body": [
                        {
                          "ActivityType": "SETVARIABLE",
                          "Activity": {
                            "OutputVariableName": "SurchargeBaseAmt",
                            "OutputValue": {
                              "Type": "Lookup",
                              "Lookup": {
                                "SourceType": "Variable",
                                "VariableName": "TotalSurchargeBaseAmt"
                              }
                            }
                          }
                        }
                      ],
                      "ElseIf": {
                        "Condition": {
                          "Body": []
                        },
                        "Body": [
                          {
                            "ActivityType": "SETVARIABLE",
                            "Activity": {
                              "OutputVariableName": "SurchargeBaseAmt",
                              "OutputValue": {
                                "Type": "Constant",
                                "Value": "0"
                              }
                            }
                          }
                        ]
                      }
                    }
                  }
                ],
                "ElseIf": {
                  "Condition": {
                    "Body": []
                  },
                  "Body": [
                    {
                      "ActivityType": "SETVARIABLE",
                      "Activity": {
                        "OutputVariableName": "SurchargeBaseAmt",
                        "OutputValue": {
                          "Type": "Lookup",
                          "Lookup": {
                            "SourceType": "Variable",
                            "VariableName": "TDSAmount"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          ],
          "ElseIf": {
            "Condition": {
              "Body": []
            },
            "Body": [
              {
                "ActivityType": "SETVARIABLE",
                "Activity": {
                  "OutputVariableName": "SurchargeBaseAmt",
                  "OutputValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Variable",
                      "VariableName": "TDSAmount"
                    }
                  }
                }
              }
            ]
          }
        }
      },
      {
        "ActivityType": "IFSTATEMENT",
        "Activity": {
          "Condition": {
            "Body": [
              {
                "Operator": " ",
                "ConditionType": "Not Equals",
                "LHS": {
                  "Lookup": {
                    "SourceType": "Variable",
                    "VariableName": "TDSTaxableAmount"
                  }
                },
                "RHS": {
                  "Type": "Constant",
                  "Value": ""
                }
              }
            ]
          },
          "Body": [
            {
              "ActivityType": "SETVARIABLE",
              "Activity": {
                "OutputVariableName": "TDSBaseAmt",
                "OutputValue": {
                  "Type": "Lookup",
                  "Lookup": {
                    "SourceType": "Variable",
                    "VariableName": "TDSTaxableAmount"
                  }
                }
              }
            }
          ]
        }
      }
    ],
    "PostingVariables": [
      {
        "Name": "TDSIncludingSHECess",
        "Datatype": "Number"
      },
      {
        "Name": "TDSIncludingSurcharge",
        "Datatype": "Number"
      },
      {
        "Name": "InvoiceAmt",
        "Datatype": "Number"
      },
      {
        "Name": "PaymentAmt",
        "Datatype": "Number"
      },
      {
        "Name": "TotalAmtLCY",
        "Datatype": "Number"
      },
      {
        "Name": "TotalInvAmt",
        "Datatype": "Number"
      },
      {
        "Name": "PerContract",
        "Datatype": "Boolean"
      },
      {
        "Name": "PaymentAmount",
        "Datatype": "Number"
      },
      {
        "Name": "InvoiceAmount",
        "Datatype": "Number"
      },
      {
        "Name": "FiscalYearStartDate",
        "Datatype": "Date"
      },
      {
        "Name": "FiscalYearEndDate",
        "Datatype": "Date"
      },
      {
        "Name": "AccountingDateFilter",
        "Datatype": "String"
      },
      {
        "Name": "TDSPer",
        "Datatype": "Number"
      },
      {
        "Name": "SurchargePer",
        "Datatype": "Number"
      },
      {
        "Name": "ECessPer",
        "Datatype": "Number"
      },
      {
        "Name": "SHECessPer",
        "Datatype": "Number"
      },
      {
        "Name": "VendorNo",
        "Datatype": "String"
      },
      {
        "Name": "Applied",
        "Datatype": "Boolean"
      },
      {
        "Name": "PositiveAmount",
        "Datatype": "Number"
      }
    ],
    "PostingScript": [
      {
        "ActivityType": "NUMERICEXPRESSION",
        "Activity": {
          "VariableName": "TDSIncludingSHECess",
          "Expression": "{TDS}+{Surcharge}+{eCESS}+{SHECess}",
          "Tokens": [
            {
              "TokenName": "{eCESS}",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Component",
                  "ComponentName": "eCESS"
                }
              }
            },
            {
              "TokenName": "{SHECess}",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Component",
                  "ComponentName": "SHE Cess "
                }
              }
            },
            {
              "TokenName": "{Surcharge}",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Component",
                  "ComponentName": "Surcharge"
                }
              }
            },
            {
              "TokenName": "{TDS}",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Component",
                  "ComponentName": "TDS"
                }
              }
            }
          ]
        }
      },
      {
        "ActivityType": "NUMERICEXPRESSION",
        "Activity": {
          "VariableName": "TDSIncludingSurcharge",
          "Expression": "{TDS}+{Surcharge}",
          "Tokens": [
            {
              "TokenName": "{Surcharge}",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Component",
                  "ComponentName": "Surcharge"
                }
              }
            },
            {
              "TokenName": "{TDS}",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Component",
                  "ComponentName": "TDS"
                }
              }
            }
          ]
        }
      },
      {
        "ActivityType": "IFSTATEMENT",
        "Activity": {
          "Condition": {
            "Body": [
              {
                "Operator": " ",
                "ConditionType": "Is Less Than",
                "LHS": {
                  "Lookup": {
                    "SourceType": "Current Record",
                    "TableName": "Gen. Journal Line",
                    "FieldName": "Amount"
                  }
                },
                "RHS": {
                  "Type": "Constant",
                  "Value": ""
                }
              }
            ]
          },
          "Body": [
            {
              "ActivityType": "NUMERICEXPRESSION",
              "Activity": {
                "VariableName": "TotalAmtLCY",
                "Expression": "0-{Amt}",
                "Tokens": [
                  {
                    "TokenName": "{Amt}",
                    "TokenValue": {
                      "Type": "Lookup",
                      "Lookup": {
                        "SourceType": "Current Record",
                        "TableName": "Gen. Journal Line",
                        "FieldName": "Amount (LCY)"
                      }
                    }
                  }
                ]
              }
            },
            {
              "ActivityType": "NUMBERCALCULATION",
              "Activity": {
                "OutputVariableName": "PositiveAmount",
                "Operator": "Minus",
                "LHS": {
                  "Type": "Constant",
                  "Value": ""
                },
                "RHS": {
                  "Type": "Lookup",
                  "Lookup": {
                    "SourceType": "Current Record",
                    "TableName": "Gen. Journal Line",
                    "FieldName": "TDS Invoice Amount"
                  }
                }
              }
            }
          ],
          "ElseIf": {
            "Condition": {
              "Body": []
            },
            "Body": [
              {
                "ActivityType": "SETVARIABLE",
                "Activity": {
                  "OutputVariableName": "TotalAmtLCY",
                  "OutputValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Amount (LCY)"
                    }
                  }
                }
              },
              {
                "ActivityType": "SETVARIABLE",
                "Activity": {
                  "OutputVariableName": "PositiveAmount",
                  "OutputValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "TDS Invoice Amount"
                    }
                  }
                }
              }
            ]
          }
        }
      },
      {
        "ActivityType": "SETVARIABLE",
        "Activity": {
          "OutputVariableName": "FiscalYearStartDate",
          "OutputValue": {
            "Type": "Lookup",
            "Lookup": {
              "SourceType": "Table",
              "TableName": "Tax Accounting Period",
              "TableFieldName": "Starting Date",
              "Method": "Last",
              "TableFilters": [
                {
                  "FiterFieldName": "Tax Type Code",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Table",
                      "TableName": "Tax Type",
                      "TableFieldName": "Accounting Period",
                      "Method": "First",
                      "TableFilters": [
                        {
                          "FiterFieldName": "Code",
                          "FilterType": "Equals",
                          "FilterValue": {
                            "Type": "Lookup",
                            "Lookup": {
                              "SourceType": "Table",
                              "TableName": "TDS Setup",
                              "TableFieldName": "Tax Type",
                              "Method": "First",
                              "TableFilters": []
                            }
                          }
                        }
                      ]
                    }
                  }
                },
                {
                  "FiterFieldName": "Starting Date",
                  "FilterType": "Is Less Than Or Equals To",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Posting Date"
                    }
                  }
                },
                {
                  "FiterFieldName": "New Fiscal Year",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Constant",
                    "Value": "true"
                  }
                },
                {
                  "FiterFieldName": "Closed",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Constant",
                    "Value": "false"
                  }
                }
              ]
            }
          }
        }
      },
      {
        "ActivityType": "IFSTATEMENT",
        "Activity": {
          "Condition": {
            "Body": [
              {
                "Operator": " ",
                "ConditionType": "Equals",
                "LHS": {
                  "Lookup": {
                    "SourceType": "Variable",
                    "VariableName": "FiscalYearStartDate"
                  }
                },
                "RHS": {
                  "Type": "Constant",
                  "Value": ""
                }
              }
            ]
          },
          "Body": [
            {
              "ActivityType": "SETVARIABLE",
              "Activity": {
                "OutputVariableName": "FiscalYearStartDate",
                "OutputValue": {
                  "Type": "Lookup",
                  "Lookup": {
                    "SourceType": "Current Record",
                    "TableName": "Gen. Journal Line",
                    "FieldName": "Posting Date"
                  }
                }
              }
            }
          ]
        }
      },
      {
        "ActivityType": "SETVARIABLE",
        "Activity": {
          "OutputVariableName": "FiscalYearEndDate",
          "OutputValue": {
            "Type": "Lookup",
            "Lookup": {
              "SourceType": "Table",
              "TableName": "Tax Accounting Period",
              "TableFieldName": "Ending Date",
              "Method": "Last",
              "TableFilters": [
                {
                  "FiterFieldName": "Tax Type Code",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Table",
                      "TableName": "Tax Type",
                      "TableFieldName": "Accounting Period",
                      "Method": "First",
                      "TableFilters": [
                        {
                          "FiterFieldName": "Code",
                          "FilterType": "Equals",
                          "FilterValue": {
                            "Type": "Lookup",
                            "Lookup": {
                              "SourceType": "Table",
                              "TableName": "TDS Setup",
                              "TableFieldName": "Tax Type",
                              "Method": "First",
                              "TableFilters": []
                            }
                          }
                        }
                      ]
                    }
                  }
                },
                {
                  "FiterFieldName": "New Fiscal Year",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Constant",
                    "Value": "false"
                  }
                },
                {
                  "FiterFieldName": "Closed",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Constant",
                    "Value": "false"
                  }
                },
                {
                  "FiterFieldName": "Ending Date",
                  "FilterType": "Is Greater Than Or Equals To",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Posting Date"
                    }
                  }
                }
              ]
            }
          }
        }
      },
      {
        "ActivityType": "IFSTATEMENT",
        "Activity": {
          "Condition": {
            "Body": [
              {
                "Operator": " ",
                "ConditionType": "Equals",
                "LHS": {
                  "Lookup": {
                    "SourceType": "Variable",
                    "VariableName": "FiscalYearEndDate"
                  }
                },
                "RHS": {
                  "Type": "Constant",
                  "Value": ""
                }
              }
            ]
          },
          "Body": [
            {
              "ActivityType": "SETVARIABLE",
              "Activity": {
                "OutputVariableName": "FiscalYearEndDate",
                "OutputValue": {
                  "Type": "Lookup",
                  "Lookup": {
                    "SourceType": "Current Record",
                    "TableName": "Gen. Journal Line",
                    "FieldName": "Posting Date"
                  }
                }
              }
            }
          ]
        }
      },
      {
        "ActivityType": "STRINGEXPRESSION",
        "Activity": {
          "OutputVariableName": "AccountingDateFilter",
          "Expression": "{StartDate}..{EndDate}",
          "Token": [
            {
              "TokenName": "EndDate",
              "FormatString": "",
              "LookupVariableName": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "FiscalYearStartDate"
                }
              }
            },
            {
              "TokenName": "StartDate",
              "FormatString": "",
              "LookupVariableName": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "FiscalYearEndDate"
                }
              }
            }
          ]
        }
      },
      {
        "ActivityType": "SETVARIABLE",
        "Activity": {
          "OutputVariableName": "InvoiceAmt",
          "OutputValue": {
            "Type": "Lookup",
            "Lookup": {
              "SourceType": "Table",
              "TableName": "TDS Entry",
              "TableFieldName": "Invoice Amount",
              "Method": "First",
              "TableFilters": [
                {
                  "FiterFieldName": "Vendor No.",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Account No."
                    }
                  }
                },
                {
                  "FiterFieldName": "Section",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "TDS Section Code"
                    }
                  }
                },
                {
                  "FiterFieldName": "Assessee Code",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Tax Attributes",
                      "AttributeName": "Assessee Code"
                    }
                  }
                },
                {
                  "FiterFieldName": "Posting Date",
                  "FilterType": "CAL Filter",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Variable",
                      "VariableName": "AccountingDateFilter"
                    }
                  }
                },
                {
                  "FiterFieldName": "Document Type",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Constant",
                    "Value": "Invoice"
                  }
                }
              ]
            }
          }
        }
      },
      {
        "ActivityType": "SETVARIABLE",
        "Activity": {
          "OutputVariableName": "PaymentAmt",
          "OutputValue": {
            "Type": "Lookup",
            "Lookup": {
              "SourceType": "Table",
              "TableName": "TDS Entry",
              "TableFieldName": "Payment Amount",
              "Method": "First",
              "TableFilters": [
                {
                  "FiterFieldName": "Vendor No.",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Account No."
                    }
                  }
                },
                {
                  "FiterFieldName": "Section",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "TDS Section Code"
                    }
                  }
                },
                {
                  "FiterFieldName": "Assessee Code",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Tax Attributes",
                      "AttributeName": "Assessee Code"
                    }
                  }
                },
                {
                  "FiterFieldName": "Posting Date",
                  "FilterType": "CAL Filter",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Variable",
                      "VariableName": "AccountingDateFilter"
                    }
                  }
                },
                {
                  "FiterFieldName": "Document Type",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Constant",
                    "Value": "Payment"
                  }
                }
              ]
            }
          }
        }
      },
      {
        "ActivityType": "NUMERICEXPRESSION",
        "Activity": {
          "VariableName": "TotalInvAmt",
          "Expression": "InvoiceAmt+PaymentAmt",
          "Tokens": [
            {
              "TokenName": "InvoiceAmt",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "InvoiceAmt"
                }
              }
            },
            {
              "TokenName": "PaymentAmt",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "PaymentAmt"
                }
              }
            }
          ]
        }
      },
      {
        "ActivityType": "NUMERICEXPRESSION",
        "Activity": {
          "VariableName": "TotalInvAmt",
          "Expression": "{Amt}+{InvAmt}",
          "Tokens": [
            {
              "TokenName": "{Amt}",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "TotalAmtLCY"
                }
              }
            },
            {
              "TokenName": "{InvAmt}",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "TotalInvAmt"
                }
              }
            }
          ]
        }
      },
      {
        "ActivityType": "IFSTATEMENT",
        "Activity": {
          "Condition": {
            "Body": [
              {
                "Operator": " ",
                "ConditionType": "Equals",
                "LHS": {
                  "Lookup": {
                    "SourceType": "Table",
                    "TableName": "Allowed Sections",
                    "TableFieldName": "Threshold Overlook",
                    "Method": "First",
                    "TableFilters": [
                      {
                        "FiterFieldName": "Vendor No",
                        "FilterType": "Equals",
                        "FilterValue": {
                          "Type": "Lookup",
                          "Lookup": {
                            "SourceType": "Current Record",
                            "TableName": "Gen. Journal Line",
                            "FieldName": "Account No."
                          }
                        }
                      },
                      {
                        "FiterFieldName": "TDS Section",
                        "FilterType": "Equals",
                        "FilterValue": {
                          "Type": "Lookup",
                          "Lookup": {
                            "SourceType": "Current Record",
                            "TableName": "Gen. Journal Line",
                            "FieldName": "TDS Section Code"
                          }
                        }
                      }
                    ]
                  }
                },
                "RHS": {
                  "Type": "Constant",
                  "Value": ""
                }
              }
            ]
          },
          "Body": [
            {
              "ActivityType": "IFSTATEMENT",
              "Activity": {
                "Condition": {
                  "Body": [
                    {
                      "Operator": " ",
                      "ConditionType": "Is Less Than",
                      "LHS": {
                        "Lookup": {
                          "SourceType": "Variable",
                          "VariableName": "TotalInvAmt"
                        }
                      },
                      "RHS": {
                        "Type": "Lookup",
                        "Lookup": {
                          "SourceType": "Column",
                          "RateColumnName": "TDS Threshold Amount"
                        }
                      }
                    }
                  ]
                },
                "Body": [
                  {
                    "ActivityType": "IFSTATEMENT",
                    "Activity": {
                      "Condition": {
                        "Body": [
                          {
                            "Operator": " ",
                            "ConditionType": "Is Greater Than",
                            "LHS": {
                              "Lookup": {
                                "SourceType": "Column",
                                "RateColumnName": "Per Contract Value"
                              }
                            },
                            "RHS": {
                              "Type": "Constant",
                              "Value": ""
                            }
                          }
                        ]
                      },
                      "Body": [
                        {
                          "ActivityType": "IFSTATEMENT",
                          "Activity": {
                            "Condition": {
                              "Body": [
                                {
                                  "Operator": " ",
                                  "ConditionType": "Is Less Than",
                                  "LHS": {
                                    "Lookup": {
                                      "SourceType": "Variable",
                                      "VariableName": "TotalInvAmt"
                                    }
                                  },
                                  "RHS": {
                                    "Type": "Lookup",
                                    "Lookup": {
                                      "SourceType": "Column",
                                      "RateColumnName": "TDS Threshold Amount"
                                    }
                                  }
                                }
                              ]
                            },
                            "Body": [
                              {
                                "ActivityType": "IFSTATEMENT",
                                "Activity": {
                                  "Condition": {
                                    "Body": [
                                      {
                                        "Operator": " ",
                                        "ConditionType": "Is Greater Than",
                                        "LHS": {
                                          "Lookup": {
                                            "SourceType": "Variable",
                                            "VariableName": "TotalAmtLCY"
                                          }
                                        },
                                        "RHS": {
                                          "Type": "Lookup",
                                          "Lookup": {
                                            "SourceType": "Column",
                                            "RateColumnName": "Per Contract Value"
                                          }
                                        }
                                      }
                                    ]
                                  },
                                  "Body": [
                                    {
                                      "ActivityType": "SETVARIABLE",
                                      "Activity": {
                                        "OutputVariableName": "PerContract",
                                        "OutputValue": {
                                          "Type": "Constant",
                                          "Value": "true"
                                        }
                                      }
                                    }
                                  ]
                                }
                              }
                            ]
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "ActivityType": "IFSTATEMENT",
        "Activity": {
          "Condition": {
            "Body": [
              {
                "Operator": " ",
                "ConditionType": "Equals",
                "LHS": {
                  "Lookup": {
                    "SourceType": "Current Record",
                    "TableName": "Gen. Journal Line",
                    "FieldName": "Document Type"
                  }
                },
                "RHS": {
                  "Type": "Constant",
                  "Value": "Payment"
                }
              }
            ]
          },
          "Body": [
            {
              "ActivityType": "SETVARIABLE",
              "Activity": {
                "OutputVariableName": "PaymentAmount",
                "OutputValue": {
                  "Type": "Lookup",
                  "Lookup": {
                    "SourceType": "Variable",
                    "VariableName": "PositiveAmount"
                  }
                }
              }
            }
          ],
          "ElseIf": {
            "Condition": {
              "Body": []
            },
            "Body": [
              {
                "ActivityType": "SETVARIABLE",
                "Activity": {
                  "OutputVariableName": "InvoiceAmount",
                  "OutputValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Variable",
                      "VariableName": "PositiveAmount"
                    }
                  }
                }
              }
            ]
          }
        }
      },
      {
        "ActivityType": "IFSTATEMENT",
        "Activity": {
          "Condition": {
            "Body": [
              {
                "Operator": " ",
                "ConditionType": "Equals",
                "LHS": {
                  "Lookup": {
                    "SourceType": "Current Record",
                    "TableName": "Gen. Journal Line",
                    "FieldName": "Account Type"
                  }
                },
                "RHS": {
                  "Type": "Constant",
                  "Value": "Vendor"
                }
              }
            ]
          },
          "Body": [
            {
              "ActivityType": "SETVARIABLE",
              "Activity": {
                "OutputVariableName": "VendorNo",
                "OutputValue": {
                  "Type": "Lookup",
                  "Lookup": {
                    "SourceType": "Current Record",
                    "TableName": "Gen. Journal Line",
                    "FieldName": "Account No."
                  }
                }
              }
            }
          ],
          "ElseIf": {
            "Condition": {
              "Body": []
            },
            "Body": [
              {
                "ActivityType": "SETVARIABLE",
                "Activity": {
                  "OutputVariableName": "VendorNo",
                  "OutputValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Bal. Account No."
                    }
                  }
                }
              }
            ]
          }
        }
      },
      {
        "ActivityType": "IFSTATEMENT",
        "Activity": {
          "Condition": {
            "Body": [
              {
                "Operator": " ",
                "ConditionType": "Not Equals",
                "LHS": {
                  "Lookup": {
                    "SourceType": "Current Record",
                    "TableName": "Gen. Journal Line",
                    "FieldName": "Applies-to Doc. No."
                  }
                },
                "RHS": {
                  "Type": "Constant",
                  "Value": ""
                }
              },
              {
                "Operator": "or",
                "ConditionType": "Not Equals",
                "LHS": {
                  "Lookup": {
                    "SourceType": "Current Record",
                    "TableName": "Gen. Journal Line",
                    "FieldName": "Applies-to ID"
                  }
                },
                "RHS": {
                  "Type": "Constant",
                  "Value": ""
                }
              }
            ]
          },
          "Body": [
            {
              "ActivityType": "SETVARIABLE",
              "Activity": {
                "OutputVariableName": "Applied",
                "OutputValue": {
                  "Type": "Constant",
                  "Value": "true"
                }
              }
            }
          ]
        }
      },
      {
        "ActivityType": "IFSTATEMENT",
        "Activity": {
          "Condition": {
            "Body": [
              {
                "Operator": " ",
                "ConditionType": "Equals",
                "LHS": {
                  "Lookup": {
                    "SourceType": "Current Record",
                    "TableName": "Gen. Journal Line",
                    "FieldName": "Include GST in TDS Base"
                  }
                },
                "RHS": {
                  "Type": "Constant",
                  "Value": ""
                }
              }
            ]
          },
          "Body": [
            {
              "ActivityType": "SETVARIABLE",
              "Activity": {
                "OutputVariableName": "InvoiceAmount",
                "OutputValue": {
                  "Type": "Lookup",
                  "Lookup": {
                    "SourceType": "Variable",
                    "VariableName": "PositiveAmount"
                  }
                }
              }
            }
          ]
        }
      },
      {
        "ActivityType": "IFSTATEMENT",
        "Activity": {
          "Condition": {
            "Body": [
              {
                "Operator": " ",
                "ConditionType": "Not Equals",
                "LHS": {
                  "Lookup": {
                    "SourceType": "Current Record",
                    "TableName": "Gen. Journal Line",
                    "FieldName": "Document Type"
                  }
                },
                "RHS": {
                  "Type": "Constant",
                  "Value": "Invoice"
                }
              }
            ]
          },
          "Body": [
            {
              "ActivityType": "IFSTATEMENT",
              "Activity": {
                "Condition": {
                  "Body": [
                    {
                      "Operator": " ",
                      "ConditionType": "Not Equals",
                      "LHS": {
                        "Lookup": {
                          "SourceType": "Current Record",
                          "TableName": "Gen. Journal Line",
                          "FieldName": "Applies-to Doc. No."
                        }
                      },
                      "RHS": {
                        "Type": "Constant",
                        "Value": ""
                      }
                    },
                    {
                      "Operator": "or",
                      "ConditionType": "Not Equals",
                      "LHS": {
                        "Lookup": {
                          "SourceType": "Current Record",
                          "TableName": "Gen. Journal Line",
                          "FieldName": "Applies-to ID"
                        }
                      },
                      "RHS": {
                        "Type": "Constant",
                        "Value": ""
                      }
                    }
                  ]
                },
                "Body": [
                  {
                    "ActivityType": "SETVARIABLE",
                    "Activity": {
                      "OutputVariableName": "InvoiceAmount",
                      "OutputValue": {
                        "Type": "Constant",
                        "Value": ""
                      }
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ],
    "Components": [
      {
        "ComponentName": "Surcharge",
        "Sequence": 2,
        "Formula": {
          "VariableName": "Surcharge",
          "Expression": "{TDSAmt}*{SurchargePer}/100",
          "Tokens": [
            {
              "TokenName": "{SurchargePer}",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Component Percent",
                  "ComponentName": "Surcharge"
                }
              }
            },
            {
              "TokenName": "{TDSAmt}",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "SurchargeBaseAmt"
                }
              }
            }
          ]
        }
      },
      {
        "ComponentName": "SHE Cess ",
        "Sequence": 4,
        "Formula": {
          "VariableName": "SHE Cess ",
          "Expression": "({TDSAmt}+{SurchargeAmt})*{SheCessPer}/100",
          "Tokens": [
            {
              "TokenName": "{SheCessPer}",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Component Percent",
                  "ComponentName": "SHE Cess "
                }
              }
            },
            {
              "TokenName": "{SurchargeAmt}",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Component",
                  "ComponentName": "Surcharge"
                }
              }
            },
            {
              "TokenName": "{TDSAmt}",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Component",
                  "ComponentName": "TDS"
                }
              }
            }
          ]
        }
      },
      {
        "ComponentName": "TDS Base Amount",
        "Sequence": 6,
        "Formula": {
          "VariableName": "TDS Base Amount",
          "Expression": "{TDSBaseAmt}",
          "Tokens": [
            {
              "TokenName": "{TDSBaseAmt}",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "TDSBaseAmt"
                }
              }
            }
          ]
        }
      },
      {
        "ComponentName": "TDS",
        "Sequence": 1,
        "Formula": {
          "VariableName": "TDS",
          "Expression": "TDSTaxableAmount*TDSPer/100",
          "Tokens": [
            {
              "TokenName": "TDSPer",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Component Percent",
                  "ComponentName": "TDS"
                }
              }
            },
            {
              "TokenName": "TDSTaxableAmount",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Variable",
                  "VariableName": "TDSTaxableAmount"
                }
              }
            }
          ]
        }
      },
      {
        "ComponentName": "Total TDS Amount",
        "Sequence": 5,
        "Formula": {
          "VariableName": "Total TDS Amount",
          "Expression": "TDS+Surcharge+eCess+SheCess",
          "Tokens": [
            {
              "TokenName": "eCess",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Component",
                  "ComponentName": "eCESS"
                }
              }
            },
            {
              "TokenName": "SheCess",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Component",
                  "ComponentName": "SHE Cess "
                }
              }
            },
            {
              "TokenName": "Surcharge",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Component",
                  "ComponentName": "Surcharge"
                }
              }
            },
            {
              "TokenName": "TDS",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Component",
                  "ComponentName": "TDS"
                }
              }
            }
          ]
        }
      },
      {
        "ComponentName": "eCESS",
        "Sequence": 3,
        "Formula": {
          "VariableName": "eCESS",
          "Expression": "({TDSAmt}+{SurchargeAmt})*{EcessPer}/100",
          "Tokens": [
            {
              "TokenName": "{EcessPer}",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Component Percent",
                  "ComponentName": "eCESS"
                }
              }
            },
            {
              "TokenName": "{SurchargeAmt}",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Component",
                  "ComponentName": "Surcharge"
                }
              }
            },
            {
              "TokenName": "{TDSAmt}",
              "TokenValue": {
                "Type": "Lookup",
                "Lookup": {
                  "SourceType": "Component",
                  "ComponentName": "TDS"
                }
              }
            }
          ]
        }
      }
    ],
    "Condition": {
      "Body": [
        {
          "Operator": " ",
          "ConditionType": "Equals",
          "LHS": {
            "Lookup": {
              "SourceType": "Current Record",
              "TableName": "Gen. Journal Line",
              "FieldName": "Document Type"
            }
          },
          "RHS": {
            "Type": "Constant",
            "Value": "Invoice"
          }
        },
        {
          "Operator": "or",
          "ConditionType": "Equals",
          "LHS": {
            "Lookup": {
              "SourceType": "Current Record",
              "TableName": "Gen. Journal Line",
              "FieldName": "Document Type"
            }
          },
          "RHS": {
            "Type": "Constant",
            "Value": "Payment"
          }
        },
        {
          "Operator": "and",
          "ConditionType": "Equals",
          "LHS": {
            "Lookup": {
              "SourceType": "Table",
              "TableName": "Vendor",
              "TableFieldName": "P.A.N. Status",
              "Method": "First",
              "TableFilters": [
                {
                  "FiterFieldName": "No.",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Account No."
                    }
                  }
                }
              ]
            }
          },
          "RHS": {
            "Type": "Constant",
            "Value": " "
          }
        },
        {
          "Operator": "and",
          "ConditionType": "Not Equals",
          "LHS": {
            "Lookup": {
              "SourceType": "Table",
              "TableName": "Vendor",
              "TableFieldName": "P.A.N. No.",
              "Method": "First",
              "TableFilters": [
                {
                  "FiterFieldName": "No.",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Account No."
                    }
                  }
                }
              ]
            }
          },
          "RHS": {
            "Type": "Constant",
            "Value": ""
          }
        },
        {
          "Operator": "and",
          "ConditionType": "Not Equals",
          "LHS": {
            "Lookup": {
              "SourceType": "Table",
              "TableName": "TDS Concessional Code",
              "TableFieldName": "Concessional Code",
              "Method": "First",
              "TableFilters": [
                {
                  "FiterFieldName": "Vendor No.",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Account No."
                    }
                  }
                },
                {
                  "FiterFieldName": "Section",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "TDS Section Code"
                    }
                  }
                }
              ]
            }
          },
          "RHS": {
            "Type": "Constant",
            "Value": ""
          }
        },
        {
          "Operator": "and",
          "ConditionType": "Equals",
          "LHS": {
            "Lookup": {
              "SourceType": "Current Record",
              "TableName": "Gen. Journal Line",
              "FieldName": "Account Type"
            }
          },
          "RHS": {
            "Type": "Constant",
            "Value": "Vendor"
          }
        },
        {
          "Operator": "and",
          "ConditionType": "Not Equals",
          "LHS": {
            "Lookup": {
              "SourceType": "Current Record",
              "TableName": "Gen. Journal Line",
              "FieldName": "TDS Section Code"
            }
          },
          "RHS": {
            "Type": "Constant",
            "Value": ""
          }
        },
        {
          "Operator": "and",
          "ConditionType": "Equals",
          "LHS": {
            "Lookup": {
              "SourceType": "Current Record",
              "TableName": "Gen. Journal Line",
              "FieldName": "Work Tax Nature Of Deduction"
            }
          },
          "RHS": {
            "Type": "Constant",
            "Value": ""
          }
        },
        {
          "Operator": "and",
          "ConditionType": "Equals",
          "LHS": {
            "Lookup": {
              "SourceType": "Current Record",
              "TableName": "Gen. Journal Line",
              "FieldName": "System-Created Entry"
            }
          },
          "RHS": {
            "Type": "Constant",
            "Value": ""
          }
        },
        {
          "Operator": "and",
          "ConditionType": "Equals",
          "LHS": {
            "Lookup": {
              "SourceType": "Table",
              "TableName": "Allowed Sections",
              "TableFieldName": "Non Resident Payments",
              "Method": "First",
              "TableFilters": [
                {
                  "FiterFieldName": "Vendor No",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Account No."
                    }
                  }
                },
                {
                  "FiterFieldName": "TDS Section",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "TDS Section Code"
                    }
                  }
                }
              ]
            }
          },
          "RHS": {
            "Type": "Constant",
            "Value": ""
          }
        },
        {
          "Operator": "and",
          "ConditionType": "Equals",
          "LHS": {
            "Lookup": {
              "SourceType": "Table",
              "TableName": "TDS Concessional Code",
              "TableFieldName": "Certificate Value",
              "Method": "First",
              "TableFilters": [
                {
                  "FiterFieldName": "Vendor No.",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Account No."
                    }
                  }
                },
                {
                  "FiterFieldName": "Section",
                  "FilterType": "Equals",
                  "FilterValue": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "TDS Section Code"
                    }
                  }
                }
              ]
            }
          },
          "RHS": {
            "Type": "Constant",
            "Value": ""
          }
        }
      ]
    },
    "TaxPostingSetup": [
      {
        "ComponentName": "Total TDS Amount",
        "TableName": "TDS Posting Setup",
        "AccountSourceType": "Field",
        "FieldName": "TDS Account",
        "AccountingImpact": "Credit",
        "ReverseCharge": false,
        "ReverseAccountSourceType": "Field",
        "ReverseChargeFieldName": "",
        "When": [
          {
            "Condition": {
              "Body": [
                {
                  "Operator": " ",
                  "ConditionType": "Not Equals",
                  "LHS": {
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "TDS Section Code"
                    }
                  },
                  "RHS": {
                    "Type": "Constant",
                    "Value": ""
                  }
                }
              ]
            },
            "ValueType": "Insert Record",
            "Sequence": 0,
            "InsertRecord": {
              "TableName": "TDS Entry",
              "RunTrigger": true,
              "SubLedgerGrpBy": "Component",
              "InsertRecordFields": [
                {
                  "FieldName": "Vendor No.",
                  "Sequence": 4,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Variable",
                      "VariableName": "VendorNo"
                    }
                  }
                },
                {
                  "FieldName": "T.A.N. No.",
                  "Sequence": 5,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Tax Attributes",
                      "AttributeName": "TAN No."
                    }
                  }
                },
                {
                  "FieldName": "Section",
                  "Sequence": 6,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "TDS Section Code"
                    }
                  }
                },
                {
                  "FieldName": "Assessee Code",
                  "Sequence": 7,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Tax Attributes",
                      "AttributeName": "Assessee Code"
                    }
                  }
                },
                {
                  "FieldName": "TDS Base Amount",
                  "Sequence": 8,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Component",
                      "ComponentName": "TDS Base Amount"
                    }
                  }
                },
                {
                  "FieldName": "TDS %",
                  "Sequence": 9,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Component Percent",
                      "ComponentName": "TDS"
                    }
                  }
                },
                {
                  "FieldName": "TDS Amount",
                  "Sequence": 10,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Component",
                      "ComponentName": "TDS"
                    }
                  }
                },
                {
                  "FieldName": "Surcharge %",
                  "Sequence": 11,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Component Percent",
                      "ComponentName": "Surcharge"
                    }
                  }
                },
                {
                  "FieldName": "Surcharge Amount",
                  "Sequence": 12,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Component",
                      "ComponentName": "Surcharge"
                    }
                  }
                },
                {
                  "FieldName": "eCess %",
                  "Sequence": 13,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Component Percent",
                      "ComponentName": "eCESS"
                    }
                  }
                },
                {
                  "FieldName": "eCess Amount",
                  "Sequence": 14,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Component",
                      "ComponentName": "eCESS"
                    }
                  }
                },
                {
                  "FieldName": "SHE Cess %",
                  "Sequence": 15,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Component Percent",
                      "ComponentName": "SHE Cess "
                    }
                  }
                },
                {
                  "FieldName": "SHE Cess Amount",
                  "Sequence": 16,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Component",
                      "ComponentName": "SHE Cess "
                    }
                  }
                },
                {
                  "FieldName": "Concessional Code",
                  "Sequence": 17,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Tax Attributes",
                      "AttributeName": "Concessional Code"
                    }
                  }
                },
                {
                  "FieldName": "Concessional Form No.",
                  "Sequence": 37,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Table",
                      "TableName": "TDS Concessional Code",
                      "TableFieldName": "Certificate No.",
                      "Method": "First",
                      "TableFilters": [
                        {
                          "FiterFieldName": "Vendor No.",
                          "FilterType": "Equals",
                          "FilterValue": {
                            "Type": "Lookup",
                            "Lookup": {
                              "SourceType": "Current Record",
                              "TableName": "Gen. Journal Line",
                              "FieldName": "Account No."
                            }
                          }
                        },
                        {
                          "FiterFieldName": "Section",
                          "FilterType": "Equals",
                          "FilterValue": {
                            "Type": "Lookup",
                            "Lookup": {
                              "SourceType": "Current Record",
                              "TableName": "Gen. Journal Line",
                              "FieldName": "TDS Section Code"
                            }
                          }
                        }
                      ]
                    }
                  }
                },
                {
                  "FieldName": "Deductee PAN No.",
                  "Sequence": 18,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Tax Attributes",
                      "AttributeName": "PAN No."
                    }
                  }
                },
                {
                  "FieldName": "Invoice Amount",
                  "Sequence": 25,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Variable",
                      "VariableName": "InvoiceAmount"
                    }
                  }
                },
                {
                  "FieldName": "Posting Date",
                  "Sequence": 3,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Posting Date"
                    }
                  }
                },
                {
                  "FieldName": "Document Type",
                  "Sequence": 26,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Document Type"
                    }
                  }
                },
                {
                  "FieldName": "Document No.",
                  "Sequence": 2,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Posting Field",
                      "PostingVariableName": "Posted Document No."
                    }
                  }
                },
                {
                  "FieldName": "Account Type",
                  "Sequence": 23,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Constant",
                    "Value": "G/L Account"
                  }
                },
                {
                  "FieldName": "Account No.",
                  "Sequence": 24,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Table",
                      "TableName": "TDS Posting Setup",
                      "TableFieldName": "TDS Account",
                      "Method": "First",
                      "TableFilters": [
                        {
                          "FiterFieldName": "TDS Section",
                          "FilterType": "Equals",
                          "FilterValue": {
                            "Type": "Lookup",
                            "Lookup": {
                              "SourceType": "Current Record",
                              "TableName": "Gen. Journal Line",
                              "FieldName": "TDS Section Code"
                            }
                          }
                        },
                        {
                          "FiterFieldName": "Effective Date",
                          "FilterType": "Is Less Than Or Equals To",
                          "FilterValue": {
                            "Type": "Lookup",
                            "Lookup": {
                              "SourceType": "Current Record",
                              "TableName": "Gen. Journal Line",
                              "FieldName": "Posting Date"
                            }
                          }
                        }
                      ]
                    }
                  }
                },
                {
                  "FieldName": "Source Code",
                  "Sequence": 28,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Source Code"
                    }
                  }
                },
                {
                  "FieldName": "TDS Amount Including Surcharge",
                  "Sequence": 22,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Variable",
                      "VariableName": "TDSIncludingSurcharge"
                    }
                  }
                },
                {
                  "FieldName": "Bal. TDS Including SHE CESS",
                  "Sequence": 29,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Component",
                      "ComponentName": "Total TDS Amount"
                    }
                  }
                },
                {
                  "FieldName": "Include GST in TDS Base",
                  "Sequence": 47,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Include GST in TDS Base"
                    }
                  }
                },
                {
                  "FieldName": "Applied",
                  "Sequence": 48,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Variable",
                      "VariableName": "Applied"
                    }
                  }
                },
                {
                  "FieldName": "Remaining Surcharge Amount",
                  "Sequence": 31,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Component",
                      "ComponentName": "Surcharge"
                    }
                  }
                },
                {
                  "FieldName": "Remaining TDS Amount",
                  "Sequence": 43,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Component",
                      "ComponentName": "TDS"
                    }
                  }
                },
                {
                  "FieldName": "TDS Line Amount",
                  "Sequence": 44,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Amount"
                    }
                  }
                },
                {
                  "FieldName": "Total TDS Including SHE CESS",
                  "Sequence": 21,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Component",
                      "ComponentName": "Total TDS Amount"
                    }
                  }
                },
                {
                  "FieldName": "Per Contract",
                  "Sequence": 39,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Variable",
                      "VariableName": "PerContract"
                    }
                  }
                },
                {
                  "FieldName": "User ID",
                  "Sequence": 30,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Database",
                      "DatabaseVariableName": "UserId"
                    }
                  }
                },
                {
                  "FieldName": "Transaction No.",
                  "Sequence": 38,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Posting Field",
                      "PostingVariableName": "G/L Entry Transaction No."
                    }
                  }
                },
                {
                  "FieldName": "Original TDS Base Amount",
                  "Sequence": 27,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Component",
                      "ComponentName": "TDS Base Amount"
                    }
                  }
                },
                {
                  "FieldName": "Payment Amount",
                  "Sequence": 40,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Variable",
                      "VariableName": "PaymentAmount"
                    }
                  }
                },
                {
                  "FieldName": "Currency Code",
                  "Sequence": 45,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Currency Code"
                    }
                  }
                },
                {
                  "FieldName": "Currency Factor",
                  "Sequence": 46,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Current Record",
                      "TableName": "Gen. Journal Line",
                      "FieldName": "Currency Factor"
                    }
                  }
                },
                {
                  "FieldName": "Surcharge Base Amount",
                  "Sequence": 42,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Component",
                      "ComponentName": "TDS"
                    }
                  }
                },
                {
                  "FieldName": "G/L Entry No.",
                  "Sequence": 1,
                  "ReverseSign": false,
                  "Lookup": {
                    "Type": "Lookup",
                    "Lookup": {
                      "SourceType": "Posting Field",
                      "PostingVariableName": "G/L Entry No."
                    }
                  }
                }
              ]
            }
          }
        ]
      }
    ]
  }
]